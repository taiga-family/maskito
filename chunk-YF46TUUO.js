import{a as S,b as k,c as R}from"./chunk-ENRHZQ2S.js";var N="\xA0",ft="\u200B",pe="\u2013",Ce="\u2014",$="-",K="\u2212",Ie="\u30FC",dt=":",St="\uFF1A";var Oe={day:31,month:12,year:9999};var Mt=[".",",","\u0431","\u044E"];var Y=new Date("0001-01-01T00:00"),U=new Date("9999-12-31T23:59:59.999");var we=[$,pe,Ce,Ie,K];var G={hours:23,minutes:59,seconds:59,milliseconds:999},ce={hours:0,minutes:0,seconds:0,milliseconds:0};var le=new RegExp(`[${N}APM]+$`,"g"),Ee=new RegExp(`${N}[AP]M$`,"g");var ue=[":","."];var Fe={hours:2,minutes:2,seconds:2,milliseconds:3};function ze(e){let{anchorOffset:t=0,focusOffset:r=0}=e.ownerDocument.getSelection()||{},o=Math.min(t,r),n=Math.max(t,r);return[o,n]}function kt(e,[t,r]){var i,a;let o=e.ownerDocument,n=o.createRange();n.setStart(e.firstChild||e,Math.min(t,((i=e.textContent)==null?void 0:i.length)??0)),n.setEnd(e.lastChild||e,Math.min(r,((a=e.textContent)==null?void 0:a.length)??0));let s=o.getSelection();s&&(s.removeAllRanges(),s.addRange(n))}var Qe=class{constructor(t){this.element=t;this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(t){this.element.innerHTML=t.replace(/\n$/,`

`)}get selectionStart(){return ze(this.element)[0]}get selectionEnd(){return ze(this.element)[1]}setSelectionRange(t,r){kt(this.element,[t??0,r??0])}select(){this.setSelectionRange(0,this.value.length)}};function et(e){let t=new Qe(e);return new Proxy(e,{get(r,o){if(o in t)return t[o];let n=r[o];return typeof n=="function"?n.bind(r):n},set(r,o,n,s){return Reflect.set(o in t?t:r,o,n,s)}})}var dr=e=>e.isContentEditable?et(e):e.querySelector("input,textarea")||e;var I={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};var xe=class{constructor(){this.now=null;this.past=[];this.future=[]}undo(){let t=this.past.pop();t&&this.now&&(this.future.push(this.now),this.updateElement(t,"historyUndo"))}redo(){let t=this.future.pop();t&&this.now&&(this.past.push(this.now),this.updateElement(t,"historyRedo"))}updateHistory(t){if(!this.now){this.now=t;return}let r=this.now.value!==t.value,o=this.now.selection.some((n,s)=>n!==t.selection[s]);!r&&!o||(r&&(this.past.push(this.now),this.future=[]),this.now=t)}updateElement(t,r){this.now=t,this.updateElementState(t,{inputType:r,data:null})}};function Et(e,...t){return t.every(({value:r})=>r===e.value)}function ee(e,...t){return t.every(({value:r,selection:o})=>r===e.value&&o[0]===e.selection[0]&&o[1]===e.selection[1])}function tt({value:e,selection:t},r,o){let[n,s]=t,i=typeof o=="function"?o({value:e,selection:t}):o;return{value:e,selection:i==="replace"?[n,Math.max(n+r.length,s)]:[n,s]}}function X(e){return typeof e=="string"}function rt(e,t,r,o){let n="";for(let s=t.length;s<e.length;s++){let i=e[s]||"",a=(o==null?void 0:o.value[s])===i;if(!X(i)||i===r&&!a)return n;n+=i}return n}function He(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((r,o)=>{let n=t[o]||"";return X(n)?r===n:r.match(n)}):t.test(e)}function xt(e,t,r){let o=null,n=null,s=Array.from(e.value).reduce((a,m,p)=>{let c=rt(t,a,m,r),u=a+c,l=t[u.length]||"";return o===null&&p>=e.selection[0]&&(o=u.length),n===null&&p>=e.selection[1]&&(n=u.length),X(l)?u+l:m.match(l)?u+m:c.startsWith(m)?u:a},""),i=rt(t,s,"",r);return{value:He(s+i,t)?s+i:s,selection:[o??s.length,n??s.length]}}function Pt({value:e,selection:t},r){let[o,n]=t,s=o,i=n,a=Array.from(e).reduce((m,p,c)=>{let u=m+p;return o===c&&(s=m.length),n===c&&(i=m.length),u.match(r)?u:m},"");return{value:a,selection:[Math.min(s,a.length),Math.min(i,a.length)]}}function Pe(e,t,r=null){if(He(e.value,t))return e;let{value:o,selection:n}=Array.isArray(t)?xt(e,t,r):Pt(e,t);return{selection:n,value:Array.isArray(t)?o.slice(0,t.length):o}}function ot(e,t){if(!Array.isArray(t))return e;let[r,o]=e.selection,n=[],s=Array.from(e.value).reduce((i,a,m)=>{let p=t[m]||"";return m===r&&n.push(i.length),m===o&&n.push(i.length),X(p)&&p===a?i:i+a},"");return n.length<2&&n.push(...new Array(2-n.length).fill(s.length)),{value:s,selection:[n[0],n[1]]}}var J=class{constructor(t,r){this.maskOptions=r;this.unmaskInitialState={value:"",selection:[0,0]};this.value="";this.selection=[0,0];let o=this.getMaskExpression(t),{value:n,selection:s}=Pe(t,o);this.unmaskInitialState=ot({value:n,selection:s},o),this.value=n,this.selection=s}addCharacters(t){let{value:r,selection:o,maskOptions:n}=this,s={value:r,selection:o},{selection:[i,a]}=tt(s,t,n.overwriteMode),m=this.getMaskExpression({value:r.slice(0,i)+t+r.slice(a),selection:[i+t.length,i+t.length]}),[p,c]=tt(this.unmaskInitialState,t,n.overwriteMode).selection,u=this.unmaskInitialState.value.slice(0,p)+t,l=u.length,g=Pe({value:u+this.unmaskInitialState.value.slice(c),selection:[l,l]},m,s),f=r.slice(0,i),d=Pe({value:u,selection:[l,l]},m,s);if(d.value===f||d.value.length<f.length&&ot(d,m).value===this.unmaskInitialState.value.slice(0,p)||ee(this,g))throw new Error("Invalid mask value");this.value=g.value,this.selection=g.selection}deleteCharacters(){let[t,r]=this.selection;if(t===r||!r)return;let{value:o}=this,n=this.getMaskExpression({value:o.slice(0,t)+o.slice(r),selection:[t,t]}),s={value:o,selection:[t,r]},[i,a]=this.unmaskInitialState.selection,m=this.unmaskInitialState.value.slice(0,i)+this.unmaskInitialState.value.slice(a),p=Pe({value:m,selection:[i,i]},n,s);this.value=p.value,this.selection=p.selection}getMaskExpression(t){let{mask:r}=this.maskOptions;return typeof r=="function"?r(t):r}};var z=class{constructor(t){this.element=t;this.listeners=[]}listen(t,r,o){let n=r;this.element.addEventListener(t,n,o),this.listeners.push(()=>this.element.removeEventListener(t,n,o))}destroy(){this.listeners.forEach(t=>t())}};var F={CTRL:1,ALT:2,SHIFT:4,META:8},ge={Y:89,Z:90};function fe(e,t,r){return e.ctrlKey===!!(t&F.CTRL)&&e.altKey===!!(t&F.ALT)&&e.shiftKey===!!(t&F.SHIFT)&&e.metaKey===!!(t&F.META)&&e.keyCode===r}function ht(e){return fe(e,F.CTRL,ge.Y)||fe(e,F.CTRL|F.SHIFT,ge.Z)||fe(e,F.META|F.SHIFT,ge.Z)}function yt(e){return fe(e,F.CTRL,ge.Z)||fe(e,F.META,ge.Z)}function b(e,t){var o;let r=e.value;if(typeof t=="string")e.value=t;else{let[n,s]=t.selection;e.value=t.value,e.matches(":focus")&&((o=e.setSelectionRange)==null||o.call(e,n,s))}e.value!==r&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function Tt({value:e,selection:t},r){let[o,n]=t;if(o!==n)return[o,n];let s=r?e.slice(o).indexOf(`
`)+1||e.length:e.slice(0,n).lastIndexOf(`
`)+1;return[r?o:s,r?s:n]}function Dt({value:e,selection:t},r){let[o,n]=t;return o!==n?[o,n]:(r?[o,n+1]:[o-1,n]).map(i=>Math.min(Math.max(i,0),e.length))}var Sr=/\s+$/g,Mr=/^\s+/g,bt=/\s/;function At({value:e,selection:t},r){let[o,n]=t;if(o!==n)return[o,n];if(r){let m=e.slice(o),[p]=m.match(Mr)||[""],c=m.trimStart().search(bt);return[o,c!==-1?o+p.length+c:e.length]}let s=e.slice(0,n),[i]=s.match(Sr)||[""],a=s.trimEnd().split("").reverse().findIndex(m=>bt.exec(m));return[a!==-1?n-i.length-a:0,n]}function te(e=[]){return(t,...r)=>e.reduce((o,n)=>S(S({},o),n(o,...r)),t)}function O(e,t){let r=S(S({},I),t),o=te(r.preprocessors),n=te(r.postprocessors),s=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:i}=o({elementState:s,data:""},"validation"),a=new J(i,r),{value:m,selection:p}=n(a,s);return typeof e=="string"?m:{value:m,selection:p}}function vt(){return e=>{let t=new z(e),r=!1,o,n=e.value;return t.listen("keydown",({key:s})=>{r=s==="Unidentified"}),t.listen("beforeinput",s=>{o=s,n=e.value}),t.listen("input",s=>{r&&o.defaultPrevented&&o.inputType==="deleteContentBackward"&&s.inputType==="deleteContentBackward"&&(e.value=n)},{capture:!0}),()=>t.destroy()}}function kr(){return e=>{if(e.isContentEditable)return;let t=e.value,r=()=>{t=e.value},o=()=>{e.value!==t&&e.dispatchEvent(new Event("change",{bubbles:!0}))};return e.addEventListener("focus",r),e.addEventListener("change",r),e.addEventListener("blur",o),()=>{e.removeEventListener("focus",r),e.removeEventListener("change",r),e.removeEventListener("blur",o)}}}var nt=" ";function Rt(){let e="",t=0,r=null,o=!1;return n=>{let s=new z(n);return s.listen("beforeinput",i=>{var u,l;let{value:a,selectionStart:m,selectionEnd:p}=n,c=(r==null?void 0:r.inputType)==="insertText"&&(r==null?void 0:r.data)===nt&&!a.slice(0,Number(p)).endsWith(nt);i.inputType==="insertText"&&i.data===`.${nt}`&&((r==null?void 0:r.inputType)==="deleteContentBackward"&&o?(n.value=e,(u=n.setSelectionRange)==null||u.call(n,t,t)):c&&((l=n.setSelectionRange)==null||l.call(n,m,m))),o=c,r=i,e=a,t=Number((c?t:p)===a.length?p:m)}),()=>s.destroy()}}function Er(e){return(t,r)=>{let o=t.selectionStart??0,n=t.selectionEnd??0;b(t,{value:O(t.value,e||r),selection:[o,n]})}}function xr(){return(e,t)=>{let r=o=>{if(o.inputType!=="insertCompositionText")return;let s={selection:[e.selectionStart??0,e.selectionEnd??0],value:e.value},i=O(s,t);ee(s,i)||(o.preventDefault(),b(e,i))};return e.addEventListener("input",r),()=>e.removeEventListener("input",r)}}var Pr=[Rt(),vt()],st=class extends xe{constructor(r,o){super();this.element=r;this.maskitoOptions=o;this.isTextArea=this.element.nodeName==="TEXTAREA";this.eventListener=new z(this.element);this.options=S(S({},I),this.maskitoOptions);this.upcomingElementState=null;this.preprocessor=te(this.options.preprocessors);this.postprocessor=te(this.options.postprocessors);this.teardowns=this.options.plugins.concat(Pr).map(r=>r(this.element,this.options));this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(ht(n))return n.preventDefault(),this.redo();if(yt(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{var i;let s=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:s,selection:Dt(this.elementState,s)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:n,isForward:s,selection:Tt(this.elementState,s),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:n,isForward:s,selection:At(this.elementState,s)});case"historyRedo":return n.preventDefault(),this.redo();case"historyUndo":return n.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(n);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(n,n.data??((i=n.dataTransfer)==null?void 0:i.getData("text/plain"))??"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&!ee(this.upcomingElementState,this.elementState)&&this.updateElementState(this.upcomingElementState),this.upcomingElementState=null},{capture:!0}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(r=>r==null?void 0:r())}updateElementState({value:r,selection:o},n){let s=this.elementState.value;this.updateValue(r),this.updateSelectionRange(o),n&&s!==r&&this.dispatchInputEvent(n)}get elementState(){let{value:r,selectionStart:o,selectionEnd:n}=this.element;return{value:r,selection:[o??0,n??0]}}get maxLength(){let{maxLength:r}=this.element;return r===-1?1/0:r}updateSelectionRange([r,o]){var s;let{element:n}=this;n.matches(":focus")&&(n.selectionStart!==r||n.selectionEnd!==o)&&((s=n.setSelectionRange)==null||s.call(n,r,o))}updateValue(r){(this.element.value!==r||this.element.isContentEditable)&&(this.element.value=r)}ensureValueFitsMask(){this.updateElementState(O(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(r={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",k(S({},r),{bubbles:!0,cancelable:!1})))}handleDelete({event:r,selection:o,isForward:n}){let s={value:this.elementState.value,selection:o},{elementState:i}=this.preprocessor({elementState:s,data:""},n?"deleteForward":"deleteBackward"),a=new J(i,this.options);a.deleteCharacters();let m=this.postprocessor(a,s);if(Et(s,i,a,m)){let[p,c]=i.selection;return r.preventDefault(),this.updateSelectionRange(n?[c,c]:[p,p])}this.upcomingElementState=m}handleInsert(r,o){let{options:n,maxLength:s,elementState:i}=this,[a,m]=i.selection,{elementState:p,data:c=o}=this.preprocessor({data:o,elementState:i},"insert"),u=new J(p,n);try{u.addCharacters(c)}catch{return r.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(u,i)),i.value.length>=s&&a===m&&(n.overwriteMode==="replace"&&!ee(this.upcomingElementState,i)?this.dispatchInputEvent({inputType:"insertText",data:o}):this.upcomingElementState=null)}handleEnter(r){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(r,`
`)}clampState({value:r,selection:o}){let[n,s]=o,i=this.maxLength;return{value:r.slice(0,i),selection:[Math.min(n,i),Math.min(s,i)]}}};function L(e,t,r){return(o,n)=>{let s=()=>t(o,n);return o.addEventListener(e,s,r),()=>o.removeEventListener(e,s,r)}}function Nt(e){return L("focus",t=>{t.value||b(t,e)})}function y(e,t,r){let o=yr(t??e,e);return hr(r??o,o)}function hr(e,...t){return t.reduce((r,o)=>r<o?r:o,e)}function yr(e,...t){return t.reduce((r,o)=>r>o?r:o,e)}function $e(e){return e.replaceAll(/\W/g,"").length}var _t=[$,pe,Ce,K,Ie],Lt=1,Ve=12,W={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11};function it(e,{day:t=0,month:r=0,year:o=0}={}){if(t===0&&r===0&&o===0)return e;let n=e.getFullYear(),s=e.getMonth(),i=e.getDate(),a=(n+o)*Ve+s+r,m=Math.floor(a/Ve),p=a%Ve,c=he(p,ye(m)),u=he(s,ye(m)),l=t;for(i>=c?l+=i-(u-c):u<c&&i===u?l+=i+(c-u):l+=i;l>he(p,ye(m));)l-=he(p,ye(m)),p===W.December?(m++,p=W.January):p++;for(;l<Lt;)p===W.January?(m--,p=W.December):p--,l+=he(p,ye(m));return l=t<0||r<0||o<0?l+1:l-1,new Date(m,p,l)}function he(e,t){switch(e){case W.April:case W.June:case W.November:case W.September:return 30;case W.February:return t?29:28;default:return 31}}function ye(e){return e%400===0||e%4===0&&e%100!==0}var Ue=e=>{var t,r,o;return{day:((t=e.match(/d/g))==null?void 0:t.length)??0,month:((r=e.match(/m/g))==null?void 0:r.length)??0,year:((o=e.match(/y/g))==null?void 0:o.length)??0}};function re(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")}}var Tr=["day","month","year"];function Ct(e){return[...Tr].sort((t,r)=>e.indexOf(t[0])>e.indexOf(r[0])?1:-1)}function It(e,t){let r=$e(t),[o=""]=new RegExp(`(\\D*\\d){${r}}`).exec(e)||[];return o}function Q(e,t){return e.length<t.length?!1:e.split(/\D/).every(r=>!/^0+$/.exec(r))}function B(e,t,r){let o=$e(t);return e.replace(r,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${o}}`,"g"))||[]}function w(e,t){let r=t.replaceAll(/[^dmy]/g,""),o=e.replaceAll(/\D+/g,""),n={day:o.slice(r.indexOf("d"),r.lastIndexOf("d")+1),month:o.slice(r.indexOf("m"),r.lastIndexOf("m")+1),year:o.slice(r.indexOf("y"),r.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(n).filter(([s,i])=>!!i).sort(([s],[i])=>t.toLowerCase().indexOf(s.slice(0,1))>t.toLowerCase().indexOf(i.slice(0,1))?1:-1))}function j(e,t){var n;let r=((n=e.year)==null?void 0:n.length)===2?`20${e.year}`:e.year,o=new Date(Number(r??"0"),Number(e.month??"1")-1,Number(e.day??"1"),Number((t==null?void 0:t.hours)??"0"),Number((t==null?void 0:t.minutes)??"0"),Number((t==null?void 0:t.seconds)??"0"),Number((t==null?void 0:t.milliseconds)??"0"));return o.setFullYear(Number(r??"0")),o}var q=", ";function C({day:e,month:t,year:r,hours:o,minutes:n,seconds:s,milliseconds:i},{dateMode:a,dateTimeSeparator:m=q,timeMode:p}){var l;let c=((l=a.match(/y/g))==null?void 0:l.length)===2?r==null?void 0:r.slice(-2):r;return(a+(p?m+p:"")).replaceAll(/d+/g,e??"").replaceAll(/m+/g,t??"").replaceAll(/y+/g,c??"").replaceAll(/H+/g,o??"").replaceAll("MSS",i??"").replaceAll(/M+/g,n??"").replaceAll(/S+/g,s??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}function Ge({dateString:e,dateModeTemplate:t,dateSegmentsSeparator:r,offset:o,selection:[n,s]}){var l;let i=w(e,t),a=Object.entries(i),m=Ct(t),p={};for(let g=0;g<a.length;g++){let[f,d]=a[g],M=C(p,{dateMode:t}),x=Oe[f],D=M.length&&r.length,T=o+M.length+D+Ue(t)[f],A=T>=n&&T===s;if(A&&Number(d)>Number(x)){let v=m[m.indexOf(f)+1];if(!v||v==="year")return{validatedDateString:"",updatedSelection:[n,s]};p[f]=`0${d.slice(0,-1)}`,a[g+1]=[v,d.slice(-1)+(((l=a[g+1])==null?void 0:l[1])??"").slice(1)];continue}if(A&&Number(d)<1)return{validatedDateString:"",updatedSelection:[n,s]};p[f]=d}let c=C(p,{dateMode:t}),u=c.length-e.length;return{validatedDateString:c,updatedSelection:[n+u,s+u]}}function _(e){return e}function de(){}var Ot=/[\\^$.*+?()[\]{}|]/g,Dr=new RegExp(Ot.source);function E(e){return e&&Dr.test(e)?e.replaceAll(Ot,String.raw`\$&`):e}function wt(e,t){let r="";for(let o=0;o<e.length;o++){if(e[o]!==t[o])return r;r+=e[o]}return r}function We(e){return!e||typeof e=="object"&&Object.keys(e).length===0}var br=/^0+$/;function Se(e,t,r=0){let o=e.padEnd(t.length,"0");if(Number(o)<=Number(t))return{validatedSegmentValue:e,prefixedZeroesCount:r};if(o.endsWith("0"))return Se(`0${e.slice(0,t.length-1)}`,t,r+1);let n=e.slice(0,t.length-1);return br.exec(n)?{validatedSegmentValue:"",prefixedZeroesCount:r}:Se(`${n}0`,t,r)}function at(e){return e.replaceAll(new RegExp(St,"g"),dt)}function mt(e){return e.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function Be(e){return(t,r)=>{let o=t.ownerDocument,n=0,s=()=>n++,i=()=>{n=Math.max(--n,0)},a=()=>{if(t.matches(":focus")){if(n)return o.addEventListener("mouseup",a,{once:!0,passive:!0});e(t,r)}};return o.addEventListener("selectionchange",a,{passive:!0}),t.addEventListener("focus",a,{passive:!0}),t.addEventListener("mousedown",s,{passive:!0}),o.addEventListener("mouseup",i,{passive:!0}),()=>{o.removeEventListener("selectionchange",a),t.removeEventListener("focus",a),t.removeEventListener("mousedown",s),o.removeEventListener("mouseup",i)}}}function je(e){return Be(t=>{let r=t.selectionStart??0,o=t.selectionEnd??0,[n,s]=e(t.value,[r,o]);(n>r||s<o)&&t.setSelectionRange(y(r,n,s),y(o,n,s))})}function Ft(e){return L("blur",t=>{t.value===e&&b(t,"")})}var Ht=e=>{let t=()=>{let r=e.value;e.addEventListener("beforeinput",o=>{o.defaultPrevented&&r===e.value&&e.dispatchEvent(new CustomEvent("maskitoReject",{bubbles:!0}))},{once:!0})};return e.addEventListener("beforeinput",t,!0),()=>e.removeEventListener("beforeinput",t,!0)};function Te(e){return e<0?de:t=>{let r=o=>{let n=Number(t.selectionStart),s=t.value.toUpperCase();if(o.key!=="ArrowUp"&&o.key!=="ArrowDown"||n<e)return;o.preventDefault();let i=s.includes("A")?"P":s.includes("P")||o.key==="ArrowUp"?"A":"P",a=`${N}${i}M`;b(t,{value:s.length===e?s+a:s.replace(le,a),selection:[n,n]})};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)}}function De({step:e,fullMode:t,timeSegmentMinValues:r,timeSegmentMaxValues:o}){let n=Ar(t);return e<=0?de:s=>{let i=a=>{if(a.key!=="ArrowUp"&&a.key!=="ArrowDown")return;a.preventDefault();let m=s.selectionStart??0,p=vr({segmentsIndexes:n,selectionStart:m});if(!p)return;let c=Rr({selection:n.get(p),value:s.value,toAdd:a.key==="ArrowUp"?e:-e,min:r[p],max:o[p]});b(s,{value:c,selection:[m,m]})};return s.addEventListener("keydown",i),()=>s.removeEventListener("keydown",i)}}function Ar(e){return new Map([["hours",qe(e,"HH")],["milliseconds",qe(e,"MSS")],["minutes",qe(e,"MM")],["seconds",qe(e,"SS")]])}function qe(e,t){let r=e.indexOf(t);return r===-1?[-1,-1]:[r,r+t.length]}function vr({segmentsIndexes:e,selectionStart:t}){for(let[r,o]of e.entries()){let[n,s]=o;if(n<=t&&t<=s)return r}return null}function Rr({selection:e,value:t,toAdd:r,min:o,max:n}){let[s,i]=e,a=Number(t.slice(s,i).padEnd(i-s,"0")),m=Nr(a+r,o,n+1);return t.slice(0,s)+String(m).padStart(i-s,"0")+t.slice(i,t.length)}function Nr(e,t,r){let o=r-t;return((e-t)%o+o)%o+t}function be(){return({elementState:e,data:t})=>{let{value:r,selection:o}=e;return{elementState:{selection:o,value:at(r)},data:at(t)}}}function oe({dateModeTemplate:e,dateSegmentSeparator:t,splitFn:r,uniteFn:o}){return({value:n,selection:s})=>{var g;let[i,a]=s,{dateStrings:m,restPart:p=""}=r(n),c=[],u=0;m.forEach(f=>{let d=w(f,e),x=Object.entries(d).reduce((D,[T,A])=>{let{validatedSegmentValue:v,prefixedZeroesCount:H}=Se(A,`${Oe[T]}`);return u+=H,k(S({},D),{[T]:v})},{});c.push(C(x,{dateMode:e}))});let l=o(c,n)+((g=m[m.length-1])!=null&&g.endsWith(t)?t:"")+p;return u&&l.slice(a+u,a+u+t.length)===t&&(u+=t.length),{selection:[i+u,a+u],value:l}}}function Ae({dateModeTemplate:e,firstDateEndSeparator:t,dateSegmentSeparator:r,pseudoFirstDateEndSeparators:o}){return({elementState:n,data:s})=>{let{value:i,selection:a}=n,[m,p]=a,c=It(i,e),u=o.filter(d=>!t.includes(d)&&d!==r),l=new RegExp(`[${u.join("")}]`,"gi"),g=c&&i.length>c.length?c+i.slice(c.length).replace(/^[\D\s]*/,t):i,f=g.length-i.length;return{elementState:{selection:[m+f,p+f],value:g},data:s.replace(l,t)}}}function V(){return({elementState:e,data:t})=>{let{value:r,selection:o}=e;return{elementState:{selection:o,value:mt(r)},data:mt(t)}}}function Ze(e){return Array.from(e.replace(" AA","")).map(t=>ue.includes(t)?t:/\d/).concat(e.includes("AA")?[N,/[AP]/i,/M/i]:[])}function pt(e,t){return Object.fromEntries(Object.entries(e).map(([r,o])=>[r,t(String(o),Fe[r])]))}function ct(e){return pt(e,(t,r)=>t.padStart(r,"0"))}var $t={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};function ne(e,t){let r=e.replaceAll(/\D+/g,""),o=0;return Object.fromEntries(t.split(/\W/).filter(n=>$t[n]).map(n=>{let s=r.slice(o,o+n.length);return o+=n.length,[$t[n],s]}))}var _r=/^\D*/,Lr=/\D*$/;function Vt({hours:e="",minutes:t="",seconds:r="",milliseconds:o=""}){return`${e}:${t}:${r}.${o}`.replace(_r,"").replace(Lr,"")}var Cr=new RegExp(`[${ue.map(E).join("")}]$`);function Ke({value:e,selection:t},{mode:r,timeSegmentMaxValues:o=G}){let[n,s]=t,i=ne(e,r),a=Object.entries(i),m=ct(o),p={},c=0;for(let[x,D]of a){let T=m[x],{validatedSegmentValue:A,prefixedZeroesCount:v}=Se(D,String(T));c+=v,p[x]=A}let[u=""]=e.match(/^\D+(?=\d)/g)||[],[l=""]=e.match(/\D+$/g)||[],g=u+Vt(p)+l,f=Math.max(g.length-e.length-c,0),d=n+c+f,M=s+c+f;return d===M&&c&&g.slice(0,M+1).match(Cr)&&(d++,M++),{value:g,selection:[d,M]}}function ve({timeMode:e,timeSegmentMinValues:t=ce,timeSegmentMaxValues:r=G,parseValue:o=n=>({timeString:n})}){let n=new RegExp(`[^\\d${ue.map(E).join("")}]+`);return({elementState:s,data:i},a)=>{if(a!=="insert")return{elementState:s,data:i};let{value:m,selection:p}=s,[c,u]=p,l=i.replace(n,""),g=u+l.length,f=m.slice(0,c)+l+m.slice(g),{timeString:d,restValue:M=""}=o(f),x=Object.entries(ne(d,e)),D=M.length;for(let[T,A]of x){let v=t[T],H=r[T],me=Number(A),gt=D+Fe[T];if(gt>=c&&gt<=g&&me!==y(me,v,H))return{elementState:s,data:""};D+=A.length+1}return{elementState:s,data:i}}}function Re(e){if(!e.includes("AA"))return _;let t=/^[AP]$/gi;return({elementState:r,data:o})=>{let{value:n,selection:s}=r,i=n.toUpperCase(),a=o.toUpperCase();return i.match(Ee)&&a.match(t)?{elementState:{value:i.replaceAll(Ee,""),selection:s},data:`${a}M`}:{elementState:{selection:s,value:i},data:a}}}function Ne(e){return e.includes("AA")?({value:t,selection:r},o)=>{if(!t.match(le)||t.match(Ee))return{value:t,selection:r};let[n,s]=r;if(o.value.match(Ee)){let m=t.replace(le,"");return{value:m,selection:[Math.min(n,m.length),Math.min(s,m.length)]}}let i=`${N}${t.includes("P")?"P":"A"}M`,a=t.replace(le,m=>m!==N?i:m);return{value:a,selection:s>=a.indexOf(i)?[a.length,a.length]:r}}:_}function Ye(e,t){let r=Ue(t);return Object.fromEntries(Object.entries(e).map(([o,n])=>{let s=r[o];return[o,n.length===s&&/^0+$/.exec(n)?"1".padStart(s,"0"):n]}))}var Ir="1972";function _e({dateModeTemplate:e,min:t=Y,max:r=U,rangeSeparator:o="",dateSegmentSeparator:n="."}){return({value:s,selection:i})=>{let a=o&&s.endsWith(o),m=B(s,e,o),p="";for(let c of m){p+=p?o:"";let u=w(c,e);if(!Q(c,e)){let f=Ye(u,e),d=C(f,{dateMode:e}),M=c.endsWith(n)?n:"";p+=d+M;continue}let l=j(S({year:Ir},u)),g=y(l,t,r);p+=C(re(g),{dateMode:e})}return{selection:i,value:p+(a?o:"")}}}function se({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:r="",dateTimeSeparator:o=q}){return({elementState:n,data:s})=>{let i=e.split(t),a=s.includes(o),m=s.slice(0,a?s.indexOf(o):1/0).split(/\D/).filter(Boolean);if(!m.length||m.length%i.length!==0)return{elementState:n,data:s};let p=m.reduce((c,u,l)=>{let g=i[l%i.length]??"",f=Math.trunc(l/i.length),d=l%i.length===i.length-1;return c[f]||(c[f]=""),c[f]+=d?u:`${u.padStart(g.length,"0")}${t}`,c},[]);return{elementState:n,data:a?`${p[0]}${s.slice(s.indexOf(o))}`:p.join(r)}}}function Me(e){let t=new RegExp(`${E(e)}$`),r=new RegExp(e&&`(${e.split("").map(E).reduce((o,n,s,i)=>`${o}|${i.slice(0,s+1).join("")}`)})$`);return e?({value:o,selection:n},s)=>{if(!o&&!s.value.endsWith(e))return{value:o,selection:n};if(!o.match(r)&&!s.value.endsWith(e))return{selection:n,value:o+e};let i=s.value.replace(t,""),a=s.selection[1]>i.length,m=wt(i,o);return{selection:n,value:Array.from(e).reverse().reduce((p,c,u)=>{let l=p.length-1-u,g=m[l]===c&&a;return p[l]!==c||g?p.slice(0,l+1)+c+p.slice(l+1):p},o)}}:_}function ke(e){return e?({value:t,selection:r},o)=>{if(t.startsWith(e)||!t&&!o.value.startsWith(e))return{value:t,selection:r};let[n,s]=r,i=Array.from(e).reduce((m,p,c)=>m[c]===p?m:m.slice(0,c)+p+m.slice(c),t),a=i.length-t.length;return{selection:[n+a,s+a],value:i}}:_}function Le({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:r=""}){return({elementState:o,data:n})=>{let{value:s,selection:i}=o;if(n===t)return{elementState:o,data:i[0]===s.length?n:""};if(!n.replaceAll(/\D/g,""))return{elementState:o,data:n};let a=n.replaceAll(new RegExp(`[^\\d${E(t)}${r}]`,"g"),""),[m,p]=i,c=p+n.length,u=s.slice(0,m)+a+s.slice(c),l=B(u,e,r),g="",f=!!r&&u.includes(r);for(let M of l){let{validatedDateString:x,updatedSelection:D}=Ge({dateString:M,dateModeTemplate:e,dateSegmentsSeparator:t,offset:g.length,selection:[m,c]});if(M&&!x)return{elementState:o,data:""};c=D[1],g+=f&&!g?x+r:x}let d=g.slice(m,c);return{elementState:{selection:i,value:g.slice(0,m)+d.split(t).map(M=>"0".repeat(M.length)).join(t)+g.slice(c)},data:d}}}function Ut(e,t=!1){let r="",o="validation",n=a=>{for(let m=a.length-1;m>=r.length;m--)if(a[m]!==e[m])return a.slice(0,m+1);return a.slice(0,r.length)},s=[je(a=>[0,n(a).length])],i=!1;if(t){let a=L("focus",p=>{i=!0,b(p,p.value+e.slice(p.value.length))},{capture:!0}),m=L("blur",p=>{i=!1,b(p,n(p.value))},{capture:!0});s.push(a,m)}return{plugins:s,removePlaceholder:n,preprocessors:[({elementState:a,data:m},p)=>{o=p;let{value:c,selection:u}=a;return{elementState:{selection:u,value:n(c)},data:m}}],postprocessors:[({value:a,selection:m},p)=>{r=a;let c=a+e.slice(a.length,p.value.length)===p.value;if(o==="validation"&&c)return{selection:m,value:p.value};let u=i||!t?a+e.slice(a.length):a;if(u===p.value&&o==="deleteBackward"){let[l]=p.selection;return{value:u,selection:[l,l]}}return{value:u,selection:m}}]}}function Z(e=""){let t=(r,[o,n])=>n>=r.length-e.length;return({elementState:r},o)=>{let{value:n,selection:s}=r;if(!n||t(n,s))return{elementState:r};let[i,a]=s,m=n.slice(i,a).replaceAll(/\d/g,"0"),p=n.slice(0,i)+m+n.slice(a);return m.replaceAll(/\D/g,"")?o==="validation"||o==="insert"&&i===a?{elementState:{selection:s,value:p}}:{elementState:{selection:o==="deleteBackward"||o==="insert"?[i,i]:[a,a],value:p}}:{elementState:r}}}function Or({mode:e,separator:t=".",max:r,min:o}){let n=e.split("/").join(t);return k(S({},I),{mask:Array.from(n).map(s=>t.includes(s)?s:/\d/),overwriteMode:"replace",preprocessors:[V(),Z(),se({dateModeTemplate:n,dateSegmentsSeparator:t}),Le({dateModeTemplate:n,dateSegmentsSeparator:t})],postprocessors:[oe({dateModeTemplate:n,dateSegmentSeparator:t,splitFn:s=>({dateStrings:[s]}),uniteFn:([s=""])=>s}),_e({min:o,max:r,dateModeTemplate:n,dateSegmentSeparator:t})]})}function Gt({dateModeTemplate:e,rangeSeparator:t,minLength:r,maxLength:o,max:n=U}){return We(r)&&We(o)?_:({value:s,selection:i})=>{let a=B(s,e,t);if(a.length!==2||a.some(f=>!Q(f,e)))return{value:s,selection:i};let[m,p]=a.map(f=>j(w(f,e)));if(!m||!p)return{value:s,selection:i};let c=it(m,r),u=We(o)?n:it(m,o),l=y(p,c,n),g=l>u?u:l;return{selection:i,value:a[0]+t+C(re(g),{dateMode:e})}}}function Wt({dateModeTemplate:e,rangeSeparator:t}){return({value:r,selection:o})=>{let n=B(r,e,t),s=n.length===2&&n.every(l=>Q(l,e)),[i,a]=o,m=i>=r.length,p=i===0&&a>=r.length;if(!(m||p)||!s)return{value:r,selection:o};let[c,u]=n.map(l=>j(w(l,e)));return{selection:o,value:c&&u&&c>u?n.reverse().join(t):r}}}function wr({mode:e,min:t,max:r,minLength:o,maxLength:n,dateSeparator:s=".",rangeSeparator:i=`${N}${pe}${N}`}){let a=e.split("/").join(s),m=Array.from(a).map(p=>s.includes(p)?p:/\d/);return k(S({},I),{mask:[...m,...Array.from(i),...m],overwriteMode:"replace",preprocessors:[V(),Ae({dateModeTemplate:a,dateSegmentSeparator:s,firstDateEndSeparator:i,pseudoFirstDateEndSeparators:_t}),Z(),se({dateModeTemplate:a,rangeSeparator:i,dateSegmentsSeparator:s}),Le({dateModeTemplate:a,rangeSeparator:i,dateSegmentsSeparator:s})],postprocessors:[oe({dateModeTemplate:a,dateSegmentSeparator:s,splitFn:p=>({dateStrings:B(p,a,i)}),uniteFn:(p,c)=>p.reduce((u,l,g)=>u+l+(!g&&c.includes(i)?i:""),"")}),_e({min:t,max:r,dateModeTemplate:a,rangeSeparator:i,dateSegmentSeparator:s}),Gt({dateModeTemplate:a,minLength:o,maxLength:n,max:r,rangeSeparator:i}),Wt({dateModeTemplate:a,rangeSeparator:i})]})}function Fr({mode:e,timeSegmentMaxValues:t={},timeSegmentMinValues:r={},step:o=0,prefix:n="",postfix:s=""}){let i=e.includes("AA"),a=S(S(S({},G),i?{hours:12}:{}),t),m=S(S(S({},ce),i?{hours:1}:{}),r),p=[...n,...Ze(e)];return{mask:s?({value:c})=>Hr(p,c).concat(...s):p,preprocessors:[V(),be(),Z(s),Re(e),ve({timeMode:e,timeSegmentMinValues:m,timeSegmentMaxValues:a})],postprocessors:[Ne(e),c=>Ke(c,{mode:e,timeSegmentMaxValues:a}),ke(n),Me(s)],plugins:[De({fullMode:e,step:o,timeSegmentMinValues:m,timeSegmentMaxValues:a}),Te(e.indexOf("AA"))],overwriteMode:"replace"}}function Hr(e,t){let r=Math.min(t.replaceAll(/\D/g,"").length,e.filter(n=>typeof n!="string").length)||1,o=e.findIndex(n=>typeof n!="string"&&!--r)+1;return e.slice(0,o)}function Bt(e,{dateMode:t,timeMode:r,dateTimeSeparator:o=q}){return e.length>=t.length+r.length+o.length&&(e.split(o)[0]??"").split(/\D/).every(n=>!/^0+$/.exec(n))}var Dm=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});var Vr=/[^dmy]/g,Ur=/^\D*/;function ie(e,t){let r=t.replaceAll(Vr,"").length,[o=""]=new RegExp(`(\\d[^\\d]*){0,${r-1}}\\d?`).exec(e)||[],[n=""]=Ur.exec(e.slice(o.length))||[];return[o,e.slice(o.length+n.length)]}function Zt({dateModeTemplate:e,timeMode:t,min:r=Y,max:o=U,dateTimeSeparator:n}){return({value:s,selection:i})=>{let[a,m]=ie(s,e),p=w(a,e),c=ne(m,t);if(!Bt(s,{dateMode:e,timeMode:t,dateTimeSeparator:n})){let d=Ye(p,e),{year:M,month:x,day:D}=Q(a,e)?re(y(j(d),r,o)):d,T=C(S({year:M,month:x,day:D},c),{dateMode:e,dateTimeSeparator:n,timeMode:t}),A=s.slice(T.length);return{selection:i,value:T+A}}let u=j(p,c),l=y(u,r,o),[g=""]=s.match(/\D+$/g)||[],f=C(re(l),{dateMode:e,dateTimeSeparator:n,timeMode:t})+g;return{selection:i,value:f}}}function Kt({dateModeTemplate:e,dateSegmentsSeparator:t,dateTimeSeparator:r,timeMode:o,timeSegmentMaxValues:n}){return({elementState:s,data:i})=>{let{value:a,selection:m}=s;if(i===t)return{elementState:s,data:m[0]===a.length?i:""};let p=i.replaceAll(/\D/g,"");if(!p)return{elementState:s,data:i};let[c,u]=m,l=u+i.length,g=a.slice(0,c)+p+a.slice(l),[f,d]=ie(g,e),M="",x=g.includes(r),{validatedDateString:D,updatedSelection:T}=Ge({dateString:f,dateSegmentsSeparator:t,dateModeTemplate:e,offset:0,selection:[c,l]});if(f&&!D)return{elementState:s,data:""};l=T[1],M+=D;let A=Ke({value:d,selection:[c,l]},{mode:o,timeSegmentMaxValues:n});l=A.selection[1],M+=x?r+A.value:A.value;let v=M.slice(c,l);return{elementState:{selection:m,value:M.slice(0,c)+v.split(t).map(H=>"0".repeat(H.length)).join(t)+M.slice(l)},data:v}}}function Wr({dateMode:e,timeMode:t,dateSeparator:r=".",min:o,max:n,dateTimeSeparator:s=q,timeStep:i=0}){let a=t.includes("AA"),m=e.split("/").join(r),p=S(S({},G),a?{hours:12}:{}),c=S(S({},ce),a?{hours:1}:{}),u=`${m}${s}${t}`;return k(S({},I),{mask:[...Array.from(m).map(l=>r.includes(l)?l:/\d/),...s.split(""),...Ze(t)],overwriteMode:"replace",preprocessors:[V(),be(),Ae({dateModeTemplate:m,dateSegmentSeparator:r,firstDateEndSeparator:s,pseudoFirstDateEndSeparators:s.split("")}),Z(),Re(t),se({dateModeTemplate:m,dateSegmentsSeparator:r,dateTimeSeparator:s}),ve({timeMode:t,timeSegmentMinValues:c,timeSegmentMaxValues:p,parseValue:l=>{let[g,f]=ie(l,m);return{timeString:f,restValue:g+s}}}),Kt({dateModeTemplate:m,dateSegmentsSeparator:r,dateTimeSeparator:s,timeMode:t,timeSegmentMaxValues:p})],postprocessors:[Ne(t),oe({dateModeTemplate:m,dateSegmentSeparator:r,splitFn:l=>{let[g,f]=ie(l,m);return{dateStrings:[g],restPart:f}},uniteFn:([l],g)=>l+(g.includes(s)?s:"")}),Zt({min:o,max:n,dateModeTemplate:m,timeMode:t,dateTimeSeparator:s})],plugins:[De({step:i,fullMode:u,timeSegmentMinValues:c,timeSegmentMaxValues:p}),Te(u.indexOf("AA"))]})}function Yt(e,{prefix:t,postfix:r,decimalSeparator:o,decimalPseudoSeparators:n,minusSign:s,minusPseudoSigns:i,maximumFractionDigits:a}){var T,A,v,H;let m=[...n,o].map(me=>`\\${me}`).join(""),p=[...i,s].map(me=>`\\${me}`).join(""),c=t&&new RegExp(`^([${p}])?(${t.split("").map(E).join("?")}?)`),u=r&&new RegExp(`${r.split("").map(E).join("?")}?$`),[,,l=""]=e.match(c)??[],[g=""]=e.match(u)??[],f=e.replace(c,t&&"$1").replace(u,""),d=new RegExp(o&&a>0?`^[${m}]`:""),M=new RegExp(e.endsWith(r)?"":String.raw`^\d+`),x=new RegExp(o&&a>0?`[${m}]$`:""),D=new RegExp(e.startsWith(t)?"":String.raw`\d+$`);return{extractedPrefix:l.replace(x,"").replace(D,""),extractedPostfix:g.replace(d,"").replace(M,""),cleanValue:(((T=D.exec(l))==null?void 0:T[0])??"")+(((A=x.exec(l))==null?void 0:A[0])??"")+f+(((v=M.exec(g))==null?void 0:v[0])??"")+(((H=d.exec(g))==null?void 0:H[0])??"")}}function Xe({decimalPseudoSeparators:e,decimalSeparator:t,maximumFractionDigits:r,min:o,minusSign:n,minusPseudoSigns:s,postfix:i,prefix:a,thousandSeparator:m}){let p=o<0&&[n,...s].includes(a)?"":Xt(a),c=String.raw`\d`,u=o<0?`[${n}${s.map(x=>`\\${x}`).join("")}]?`:"",l=m?`[${c}${E(m).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${c}]*`,g=Number.isFinite(r)?r:"",f=r>0?`([${E(t)}${e.map(E).join("")}]${c}{0,${g}})?`:"",d=Xt(i),M=`(${u+p}|${p+u})`;return new RegExp(`^${M}${l}${f}${d}$`)}function Xt(e){return e?`${e.split("").map(t=>`${E(t)}?`).join("")}`:""}function P(e,t){var d;let{extractedPrefix:r,cleanValue:o,extractedPostfix:n}=Yt(e,t),{decimalSeparator:s,minusSign:i,minusPseudoSigns:a,decimalPseudoSeparators:m,maximumFractionDigits:p}=t,[c="",u=""]=s?o.split(s):[o],l=[i,...a].map(M=>`\\${M}`).join(""),[,g="",f=""]=new RegExp(`^([${l}])?(.*)`).exec(c)||[];return{prefix:r,minus:g,integerPart:f,decimalPart:u,decimalSeparator:s&&p>0?((d=new RegExp(`[${[s,...m].map(E).join("")}]`,"i").exec(o))==null?void 0:d[0])??"":"",postfix:n}}function h({minus:e="",integerPart:t="",decimalPart:r="",prefix:o="",postfix:n="",decimalSeparator:s=""},i){let a=r?i.decimalSeparator:s;return`${i.negativePattern==="minusFirst"?e+o:o+e}${t}${a}${r}${n}`}function ae(e,{bigint:t=!1,decimalSeparator:r=".",maximumFractionDigits:o=0,minusPseudoSigns:n=we,minusSign:s=K,thousandSeparator:i=N}={}){let a=!!new RegExp(`^\\D*[${E(s)}\\${n.join("\\")}]`).exec(e),m=E(r),p=e.replaceAll(new RegExp(`${m}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${o<=0&&r===i?"":m}]`,"g"),"").replace(r,r&&".");if(p){let c=a?$:"";return t?BigInt(`${c}${p}`):+`${c}${p}`}return t?null:NaN}var Br=[],jr={minusSign:$,minusPseudoSigns:[],prefix:"",postfix:"",decimalSeparator:".",decimalPseudoSeparators:[],maximumFractionDigits:1/0};function Je(e){let t=String(e),[r="",o]=t.split("e");if(!o)return t;if(!o.startsWith($))return e.toLocaleString(Br,{useGrouping:!1});let{minus:n,integerPart:s,decimalPart:i}=P(r,jr),a=s+i,m=Math.abs(Number(o)),p=m-s.length,c;if(p>=0)c=`0.${"0".repeat(p)}${a}`;else{let u=s.length-m;c=`${a.slice(0,u)}.${a.slice(u)}`}return n+c}function Jt({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:r=Mt}){return r.filter(o=>o!==t&&o!==e)}function zt(e){return({elementState:t,data:r})=>{let{value:o}=t,a=P(r,e),{prefix:n,postfix:s}=a,i=R(a,["prefix","postfix"]);return{elementState:t,data:h(k(S({},i),{prefix:o.startsWith(n)?"":n,postfix:o.endsWith(s)?"":s}),e)}}}function Qt(e){let{minimumFractionDigits:t}=e;return t?({value:r,selection:o})=>{if(Number.isNaN(ae(r,e)))return{value:r,selection:o};let i=P(r,e),{decimalPart:n}=i,s=R(i,["decimalPart"]);return{value:h(k(S({},s),{decimalPart:n.padEnd(t,"0")}),e),selection:o}}:_}function er(e){return({value:t,selection:r})=>{let[o]=r,{prefix:n,minus:s,integerPart:i,decimalSeparator:a,decimalPart:m,postfix:p}=P(t,e),c=!i&&!m&&a;return!i&&!Number(m)&&o===(s+n).length||c?{selection:r,value:h({prefix:n,minus:s,postfix:p},e)}:{value:t,selection:r}}}function tr(e){let t=!0,r=Xe(k(S({},e),{prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:-1/0}));return({elementState:o,data:n})=>{if(!t)return{elementState:o,data:n};t=!1;let{value:s,selection:i}=o,[a,m]=i,d=P(s,e),{prefix:p,postfix:c}=d,u=R(d,["prefix","postfix"]),l=h(u,e),g=O({selection:[Math.max(a-p.length,0),Math.max(m-p.length,0)],value:l},{mask:r}),f=l.slice(0,Math.max(m-p.length,0)).length-g.value.slice(0,g.selection[1]).length;return{elementState:{selection:[Math.max(a-f,0),Math.max(m-f,0)],value:h(k(S({},P(g.value,e)),{prefix:p,postfix:c}),e)},data:n}}}function rr(e){return({elementState:t},r)=>{let{value:o,selection:n}=t,[s,i]=n,{prefix:a,minusSign:m,negativePattern:p}=e,c=p==="prefixFirst"?a:m+a,u=h(k(S({},P(o,e)),{minus:""}),e),l=o.length-u.length;return{elementState:r.includes("delete")&&o.includes(m)&&s<c.length?{value:u,selection:[Math.max(s-l,c.length-1),Math.max(i-l,c.length-1)]}:t}}}function or(e){let{thousandSeparator:t}=e,r=n=>{let s=E(t);return n.replace(new RegExp(`^(\\D+)?[0${s}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${s}]+(?=[1-9])`),"$1")},o=(n,s)=>{let i=n.slice(0,s),a=n.slice(s).startsWith("0");return i.length-r(i).length+(a?1:0)};return({value:n,selection:s})=>{let[i,a]=s,g=P(n,e),{integerPart:m}=g,p=R(g,["integerPart"]),c=r(m);if(m===c)return{value:n,selection:s};let u=i-o(n,i),l=a-o(n,a);return{value:h(k(S({},p),{integerPart:c}),e),selection:[Math.max(u,0),Math.max(l,0)]}}}function nr({min:e,max:t,decimalSeparator:r,minusSign:o,maximumFractionDigits:n}){return({value:s,selection:i})=>{let a=ae(s,{decimalSeparator:r,minusSign:o,bigint:!(n&&s.includes(r))})??NaN,m=a>0?y(a,null,t):y(a,e);if(a&&m!==a){let p=`${m}`.replace(".",r).replace($,o);return{value:p,selection:[p.length,p.length]}}return{value:s,selection:i}}}function sr({decimalSeparator:e,thousandSeparator:t,minimumFractionDigits:r}){return({elementState:o,data:n},s)=>{let{value:i,selection:a}=o,[m,p]=a,c=i.slice(m,p),u=r?[e,t]:[t],l=!!r&&m>i.indexOf(e)&&!!c.match(/^0+$/gi);return s!=="deleteBackward"&&s!=="deleteForward"||!u.includes(c)&&!l?{elementState:o,data:n}:{elementState:{value:i,selection:s==="deleteForward"?[p,p]:[m,m]},data:n}}}function ir(e){let{maximumFractionDigits:t,decimalSeparator:r}=e,o=new RegExp(`^\\D*${E(r)}`);return({elementState:n,data:s})=>{let{value:i,selection:a}=n,x=P(i,e),{prefix:m,postfix:p}=x,c=R(x,["prefix","postfix"]),u=h(c,e),[l,g]=a,f=y(l-m.length,0,u.length),d=y(g-m.length,0,u.length);if(t<=0||u.slice(0,f).includes(r)||u.slice(d).includes(r)||!s.match(o))return{elementState:n,data:s};let M=/\d+/.exec(u.slice(0,f));return{elementState:n,data:M?s:`0${s}`}}}function ar({prefix:e,minusSign:t,negativePattern:r}){return({value:o,selection:n},s)=>ke(o.includes(t)&&r==="minusFirst"?t+e:e)({value:o,selection:n},s)}function lt(o){var n=o,{validCharacter:e,pseudoCharacters:t}=n,r=R(n,["validCharacter","pseudoCharacters"]);let s=new RegExp(`[${t.join("")}]`,"gi");return({elementState:i,data:a})=>{let{value:m,selection:p}=i,f=P(m,r),{prefix:c,postfix:u}=f,l=R(f,["prefix","postfix"]),g=h(l,r).replace(s,e);return{elementState:{selection:p,value:h(k(S({},P(g,r)),{prefix:c,postfix:u}),r)},data:a.replace(s,e)}}}function mr(e){let{decimalSeparator:t}=e;return t?({elementState:r,data:o})=>{let{value:n,selection:s}=r,[i,a]=s;return{elementState:r,data:!P(n,e).decimalSeparator||n.slice(i,a+1).includes(t)?o:o.replaceAll(new RegExp(E(t),"gi"),"")}}:_}function pr(e){let{thousandSeparator:t}=e;if(!t)return _;let r=(...o)=>o.every(n=>/\s/.test(n));return({value:o,selection:n})=>{let[s,i]=n,[a,m]=n,{prefix:p,minus:c,integerPart:u,decimalSeparator:l,decimalPart:g,postfix:f}=P(o,e),d=h({minus:c,integerPart:u,decimalSeparator:l,decimalPart:g},e).length-(c+u+(l?l+g:"")).length;d>0&&s&&s<=d&&(a-=d),d>0&&i&&i<=d&&(m-=d);let M=Array.from(u).reduceRight((x,D,T)=>{let v=!(!T&&D===t)&&!!x.length&&(x.length+1)%4===0,H=D===t||r(D,t);return v&&H?t+x:!v&&H?(a&&T<=s&&a--,m&&T<=i&&m--,x):v?(T<s&&a++,T<i&&m++,D+t+x):D+x},"");return{value:h({prefix:p,minus:c,integerPart:M,decimalSeparator:l,decimalPart:g,postfix:f},e),selection:[a,m]}}}function cr(e){let{maximumFractionDigits:t,decimalSeparator:r}=e;if(t>0||!r)return _;let o=new RegExp(`${E(r)}.*$`,"g");return({elementState:n,data:s})=>{let{value:i,selection:a}=n,d=P(i,e),{prefix:m,postfix:p}=d,c=R(d,["prefix","postfix"]),[u,l]=a,g=h(c,e).replace(o,""),f=h(k(S({},P(g,e)),{prefix:m,postfix:p}),e);return{elementState:{selection:[Math.min(u,f.length),Math.min(l,f.length)],value:f},data:s.replace(o,"")}}}var lr=[0,0];function ur(e){let t=or(e);return L("blur",r=>{let o=t({value:r.value,selection:lr},{value:"",selection:lr}).value;b(r,o)},{capture:!0})}function gr({min:e,max:t,decimalSeparator:r,minusSign:o,maximumFractionDigits:n}){return L("blur",(s,i)=>{let a=ae(s.value,{decimalSeparator:r,minusSign:o,bigint:!(n&&s.value.includes(r))})??NaN,m=y(a,e,t);!Number.isNaN(a)&&a!==m&&b(s,O(Je(m),i))},{capture:!0})}function fr(e){let{decimalSeparator:t}=e;return t?L("blur",r=>{let m=P(r.value,e),{prefix:o,postfix:n}=m,s=R(m,["prefix","postfix"]),i=h(s,e).replace(new RegExp(`^(\\D+)?${E(t)}`),`$10${t}`),a=h(k(S({},P(i,e)),{prefix:o,postfix:n}),e);b(r,a)},{capture:!0}):de}function ut({max:e=1/0,min:t=-1/0,thousandSeparator:r=N,decimalSeparator:o=".",decimalPseudoSeparators:n,prefix:s="",postfix:i="",minusSign:a=K,minusPseudoSigns:m=we.filter(l=>l!==r&&l!==o&&l!==a),maximumFractionDigits:p=0,minimumFractionDigits:c=0,negativePattern:u="prefixFirst"}={}){let l=Jt({decimalSeparator:o,thousandSeparator:r,decimalPseudoSeparators:n}),g={max:e,min:t,thousandSeparator:r,postfix:i,minusSign:a,minusPseudoSigns:m,maximumFractionDigits:p,decimalPseudoSeparators:l,negativePattern:u,decimalSeparator:p<=0&&o===r?"":o,prefix:s.endsWith(o)&&p>0?`${s}${ft}`:s,minimumFractionDigits:Math.min(c,p)};return k(S({},I),{mask:Xe(g),preprocessors:[V(),tr(g),zt(g),lt(k(S({},g),{validCharacter:a,pseudoCharacters:m})),lt(k(S({},g),{validCharacter:o,pseudoCharacters:l})),ir(g),sr(g),cr(g),mr(g),rr(g)],postprocessors:[nr(g),ar(g),Me(i),pr(g),Qt(g),er(g)],plugins:[ur(g),fr(g),gr(g)],overwriteMode:c>0?({value:f,selection:[d]})=>d<=f.indexOf(o)?"shift":"replace":"shift"})}function qr(e,t){if(Number.isNaN(e)||e===null)return"";let{min:r=-1/0,max:o=1/0,decimalSeparator:n="."}=t,s=Je(y(e,r,o)).replace(".",n);return O(s,ut(t))}export{dr as a,I as b,b as c,O as d,kr as e,Er as f,xr as g,st as h,K as i,Me as j,ke as k,L as l,Nt as m,Be as n,je as o,Ht as p,Ft as q,Ut as r,Or as s,wr as t,Fr as u,Wr as v,ae as w,ut as x,qr as y};
