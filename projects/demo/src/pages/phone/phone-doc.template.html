<tui-doc-page
    header="Phone"
    package="PHONE"
>
    <ng-template pageTab>
        <p>
            This mask is based on the
            <a
                href="https://www.npmjs.com/package/libphonenumber-js"
                tuiLink
            >
                libphonenumber-js
            </a>
            package.
        </p>
        Use
        <code>maskitoPhoneOptionsGenerator</code>
        to create a mask for phone input.

        <tui-doc-example
            id="basic"
            description="Kazakhstan phone example"
            heading="basic"
            [content]="basic"
        >
            <phone-doc-example-1 />
        </tui-doc-example>

        <tui-doc-example
            id="validation"
            heading="validation"
            [content]="validation"
            [description]="description"
        >
            <phone-doc-example-2 />

            <ng-template #description>
                <p class="tui-space_top-0">
                    For validating phone number you can use
                    <code>isValidPhoneNumber</code>
                    ,
                    <code>isPossiblePhoneNumber</code>
                    functions from
                    <a
                        href="https://www.npmjs.com/package/libphonenumber-js"
                        tuiLink
                    >
                        libphonenumber-js
                    </a>
                    package.
                    <a
                        href="https://www.npmjs.com/package/libphonenumber-js"
                        tuiLink
                    >
                        Read more
                    </a>
                </p>

                <p>Below is an example of a Hungarian phone mask with an angular validator.</p>
            </ng-template>
        </tui-doc-example>

        <tui-doc-example
            id="non-strict"
            heading="Non-strict mask"
            [content]="nonStrict"
            [description]="nonStrictDescription"
        >
            <phone-doc-example-3 />

            <ng-template #nonStrictDescription>
                <p>
                    Setting the
                    <code>strict</code>
                    option to
                    <code>false</code>
                    enables non-strict mask mode and allow user to type any country phone number.
                </p>
                <p>
                    The
                    <code>countryIsoCode</code>
                    option is optional in that case, but if you specify it, the mask will try to add that country's
                    calling code when you try to insert a phone number without a calling code.
                </p>
            </ng-template>
        </tui-doc-example>

        <tui-doc-example
            id="lazy-metadata"
            heading="Lazy metadata"
            [content]="lazyMetadata"
            [description]="lazyDescription"
        >
            <phone-doc-example-4 />

            <ng-template #lazyDescription>
                <p>You can load metadata lazily, below is an example of how to do it in Angular.</p>
                <p>
                    You can also
                    <a
                        href="https://gitlab.com/catamphetamine/libphonenumber-js#customizing-metadata"
                        tuiLink
                    >
                        customize the metadata
                    </a>
                    to reduce metadata size. See instructions
                    <a
                        href="https://gitlab.com/catamphetamine/libphonenumber-metadata-generator"
                        tuiLink
                    >
                        here
                    </a>
                </p>
            </ng-template>
        </tui-doc-example>

        <tui-doc-example
            id="focus-blur"
            heading="Focus & Blur events"
            [content]="focusBlurEvents"
            [description]="focusBlurEventDescription"
        >
            <phone-doc-example-5 />

            <ng-template #focusBlurEventDescription>
                Use
                <code>maskitoAddOnFocusPlugin</code>
                /
                <code>maskitoRemoveOnBlurPlugin</code>
                to mutate textfield's value on focus/blur events.
            </ng-template>
        </tui-doc-example>

        <tui-doc-example
            id="national-format"
            heading="National format"
            [content]="nationalFormat"
            [description]="nationalFormatDescription"
        >
            <phone-doc-example-6 />

            <ng-template #nationalFormatDescription>
                <p>
                    Setting the
                    <code>format</code>
                    option to
                    <code>'NATIONAL'</code>
                    displays phone numbers in the country's national format without the country code prefix.
                </p>
                <p>
                    For example, US numbers will be formatted as
                    <code>(212) 343-3355</code>
                    instead of
                    <code>+1 212 343-3355</code>
                    .
                </p>
                <tui-notification size="m">
                    National format only works with defined
                    <code>countryIsoCode</code>
                    property!
                </tui-notification>
            </ng-template>
        </tui-doc-example>
    </ng-template>

    <ng-template pageTab>
        <tui-doc-demo [control]="apiPageControl">
            <ng-template>
                <tui-input
                    tuiTextfieldCustomContent="@tui.phone"
                    class="phone"
                    [formControl]="apiPageControl"
                >
                    Enter phone
                    <input
                        autocomplete="tel"
                        inputmode="tel"
                        tuiTextfieldLegacy
                        [attr.pattern]="pattern"
                        [maskito]="maskitoOptions"
                    />
                </tui-input>
            </ng-template>
        </tui-doc-demo>
        <tui-doc-documentation>
            <ng-template
                documentationPropertyMode="input"
                documentationPropertyName="metadata"
                documentationPropertyType="MetadataJson"
                [documentationPropertyValues]="metadataVariants"
                [(documentationPropertyValue)]="selectedMetadata"
                (documentationPropertyValueChange)="updateOptions()"
            >
                List of phone number parsing and formatting rules for all countries.

                <p>
                    The complete list of those rules is huge, so
                    <code>libphonenumber-js</code>
                    provides a way to optimize bundle size by choosing between
                    <code>max</code>
                    ,
                    <code>min</code>
                    ,
                    <code>mobile</code>
                    metadata.
                </p>
            </ng-template>
            <ng-template
                documentationPropertyMode="input"
                documentationPropertyName="countryIsoCode"
                documentationPropertyType="string"
                [documentationPropertyValues]="countryCodeVariants"
                [(documentationPropertyValue)]="countryIsoCode"
                (documentationPropertyValueChange)="updateOptions()"
            >
                Country ISO-code
            </ng-template>
            <ng-template
                documentationPropertyMode="input"
                documentationPropertyName="strict"
                documentationPropertyType="boolean"
                [(documentationPropertyValue)]="strict"
                (documentationPropertyValueChange)="updateOptions()"
            >
                If true, it allows to enter only phone number of selected country (see countryIsoCode property). If
                false, all country phone number is allowed.
                <p>
                    <strong>Default:</strong>
                    <code>true</code>
                </p>
            </ng-template>
            <ng-template
                documentationPropertyMode="input"
                documentationPropertyName="separator"
                documentationPropertyType="string"
                [documentationPropertyValues]="separatorVariants"
                [(documentationPropertyValue)]="separator"
                (documentationPropertyValueChange)="updateOptions()"
            >
                Separator between groups of numbers in a phone number (excluding country code and area code).
                <p>
                    <strong>Default:</strong>
                    <code>-</code>
                </p>
            </ng-template>
            <ng-template
                documentationPropertyMode="input"
                documentationPropertyName="format"
                documentationPropertyType="'NATIONAL' | 'INTERNATIONAL'"
                [documentationPropertyValues]="formatVariants"
                [(documentationPropertyValue)]="format"
                (documentationPropertyValueChange)="updateOptions()"
            >
                Phone number format.
                <code>'INTERNATIONAL'</code>
                includes the country code prefix (e.g.,
                <code>+1 212 343-3355</code>
                ).
                <code>'NATIONAL'</code>
                uses country-specific formatting without the country code (e.g.,
                <code>(212) 343-3355</code>
                for US).
                <p>
                    <strong>Note:</strong>
                    <code>'NATIONAL'</code>
                    format only works with
                    <code>strict: true</code>
                    mode.
                </p>
                <p>
                    <strong>Default:</strong>
                    <code>'INTERNATIONAL'</code>
                </p>
            </ng-template>
        </tui-doc-documentation>
    </ng-template>
</tui-doc-page>
