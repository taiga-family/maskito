import{a as d,b as E,c as A}from"./chunk-TIC6Q35B.js";var R="\xA0",ft="\u200B",me="\u2013",Le="\u2014",H="-",Z="\u2212",Ce="\u30FC",dt=":",St="\uFF1A";var Ie={day:31,month:12,year:9999};var Mt=[".",",","\u0431","\u044E"];var K=new Date("0001-01-01T00:00"),V=new Date("9999-12-31T23:59:59.999");var Oe=[H,me,Le,Ce,Z];var U={hours:23,minutes:59,seconds:59,milliseconds:999},pe={hours:0,minutes:0,seconds:0,milliseconds:0};var ce=new RegExp(`[${R}APM]+$`,"g"),ke=new RegExp(`${R}[AP]M$`,"g");var le=[":","."];var we={hours:2,minutes:2,seconds:2,milliseconds:3};function Je(e){let{anchorOffset:t=0,focusOffset:r=0}=e.ownerDocument.getSelection()||{},o=Math.min(t,r),n=Math.max(t,r);return[o,n]}function kt(e,[t,r]){let o=e.ownerDocument,n=o.createRange();n.setStart(e.firstChild||e,Math.min(t,e.textContent?.length??0)),n.setEnd(e.lastChild||e,Math.min(r,e.textContent?.length??0));let i=o.getSelection();i&&(i.removeAllRanges(),i.addRange(n))}var ze=class{constructor(t){this.element=t;this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(t){this.element.innerHTML=t.replace(/\n$/,`

`)}get selectionStart(){return Je(this.element)[0]}get selectionEnd(){return Je(this.element)[1]}setSelectionRange(t,r){kt(this.element,[t??0,r??0])}select(){this.setSelectionRange(0,this.value.length)}};function Qe(e){let t=new ze(e);return new Proxy(e,{get(r,o){if(o in t)return t[o];let n=r[o];return typeof n=="function"?n.bind(r):n},set(r,o,n,i){return Reflect.set(o in t?t:r,o,n,i)}})}var dr=e=>e.isContentEditable?Qe(e):e.querySelector("input,textarea")||e;var C={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};var Ee=class{constructor(){this.now=null;this.past=[];this.future=[]}undo(){let t=this.past.pop();t&&this.now&&(this.future.push(this.now),this.updateElement(t,"historyUndo"))}redo(){let t=this.future.pop();t&&this.now&&(this.past.push(this.now),this.updateElement(t,"historyRedo"))}updateHistory(t){if(!this.now){this.now=t;return}let r=this.now.value!==t.value,o=this.now.selection.some((n,i)=>n!==t.selection[i]);!r&&!o||(r&&(this.past.push(this.now),this.future=[]),this.now=t)}updateElement(t,r){this.now=t,this.updateElementState(t,{inputType:r,data:null})}};function Et(e,...t){return t.every(({value:r})=>r===e.value)}function Q(e,...t){return t.every(({value:r,selection:o})=>r===e.value&&o[0]===e.selection[0]&&o[1]===e.selection[1])}function et({value:e,selection:t},r,o){let[n,i]=t,s=typeof o=="function"?o({value:e,selection:t}):o;return{value:e,selection:s==="replace"?[n,Math.max(n+r.length,i)]:[n,i]}}function Y(e){return typeof e=="string"}function tt(e,t,r,o){let n="";for(let i=t.length;i<e.length;i++){let s=e[i]||"",a=o?.value[i]===s;if(!Y(s)||s===r&&!a)return n;n+=s}return n}function Fe(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every((r,o)=>{let n=t[o]||"";return Y(n)?r===n:r.match(n)}):t.test(e)}function xt(e,t,r){let o=null,n=null,i=Array.from(e.value).reduce((a,m,p)=>{let c=tt(t,a,m,r),u=a+c,l=t[u.length]||"";return o===null&&p>=e.selection[0]&&(o=u.length),n===null&&p>=e.selection[1]&&(n=u.length),Y(l)?u+l:m.match(l)?u+m:c.startsWith(m)?u:a},""),s=tt(t,i,"",r);return{value:Fe(i+s,t)?i+s:i,selection:[o??i.length,n??i.length]}}function Pt({value:e,selection:t},r){let[o,n]=t,i=o,s=n,a=Array.from(e).reduce((m,p,c)=>{let u=m+p;return o===c&&(i=m.length),n===c&&(s=m.length),u.match(r)?u:m},"");return{value:a,selection:[Math.min(i,a.length),Math.min(s,a.length)]}}function xe(e,t,r=null){if(Fe(e.value,t))return e;let{value:o,selection:n}=Array.isArray(t)?xt(e,t,r):Pt(e,t);return{selection:n,value:Array.isArray(t)?o.slice(0,t.length):o}}function rt(e,t){if(!Array.isArray(t))return e;let[r,o]=e.selection,n=[],i=Array.from(e.value).reduce((s,a,m)=>{let p=t[m]||"";return m===r&&n.push(s.length),m===o&&n.push(s.length),Y(p)&&p===a?s:s+a},"");return n.length<2&&n.push(...new Array(2-n.length).fill(i.length)),{value:i,selection:[n[0],n[1]]}}var X=class{constructor(t,r){this.maskOptions=r;this.unmaskInitialState={value:"",selection:[0,0]};this.value="";this.selection=[0,0];let o=this.getMaskExpression(t),{value:n,selection:i}=xe(t,o);this.unmaskInitialState=rt({value:n,selection:i},o),this.value=n,this.selection=i}addCharacters(t){let{value:r,selection:o,maskOptions:n}=this,i={value:r,selection:o},{selection:[s,a]}=et(i,t,n.overwriteMode),m=this.getMaskExpression({value:r.slice(0,s)+t+r.slice(a),selection:[s+t.length,s+t.length]}),[p,c]=et(this.unmaskInitialState,t,n.overwriteMode).selection,u=this.unmaskInitialState.value.slice(0,p)+t,l=u.length,g=xe({value:u+this.unmaskInitialState.value.slice(c),selection:[l,l]},m,i),f=r.slice(0,s),S=xe({value:u,selection:[l,l]},m,i);if(S.value===f||S.value.length<f.length&&rt(S,m).value===this.unmaskInitialState.value.slice(0,p)||Q(this,g))throw new Error("Invalid mask value");this.value=g.value,this.selection=g.selection}deleteCharacters(){let[t,r]=this.selection;if(t===r||!r)return;let{value:o}=this,n=this.getMaskExpression({value:o.slice(0,t)+o.slice(r),selection:[t,t]}),i={value:o,selection:[t,r]},[s,a]=this.unmaskInitialState.selection,m=this.unmaskInitialState.value.slice(0,s)+this.unmaskInitialState.value.slice(a),p=xe({value:m,selection:[s,s]},n,i);this.value=p.value,this.selection=p.selection}getMaskExpression(t){let{mask:r}=this.maskOptions;return typeof r=="function"?r(t):r}};var J=class{constructor(t){this.element=t;this.listeners=[]}listen(t,r,o){let n=r;this.element.addEventListener(t,n,o),this.listeners.push(()=>this.element.removeEventListener(t,n,o))}destroy(){this.listeners.forEach(t=>t())}};var F={CTRL:1,ALT:2,SHIFT:4,META:8},ue={Y:89,Z:90};function ge(e,t,r){return e.ctrlKey===!!(t&F.CTRL)&&e.altKey===!!(t&F.ALT)&&e.shiftKey===!!(t&F.SHIFT)&&e.metaKey===!!(t&F.META)&&e.keyCode===r}function ht(e){return ge(e,F.CTRL,ue.Y)||ge(e,F.CTRL|F.SHIFT,ue.Z)||ge(e,F.META|F.SHIFT,ue.Z)}function yt(e){return ge(e,F.CTRL,ue.Z)||ge(e,F.META,ue.Z)}function b(e,t){let r=e.value;if(typeof t=="string")e.value=t;else{let[o,n]=t.selection;e.value=t.value,e.matches(":focus")&&e.setSelectionRange?.(o,n)}e.value!==r&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function Tt({value:e,selection:t},r){let[o,n]=t;if(o!==n)return[o,n];let i=r?e.slice(o).indexOf(`
`)+1||e.length:e.slice(0,n).lastIndexOf(`
`)+1;return[r?o:i,r?i:n]}function Dt({value:e,selection:t},r){let[o,n]=t;return o!==n?[o,n]:(r?[o,n+1]:[o-1,n]).map(s=>Math.min(Math.max(s,0),e.length))}var Sr=/\s+$/g,Mr=/^\s+/g,bt=/\s/;function At({value:e,selection:t},r){let[o,n]=t;if(o!==n)return[o,n];if(r){let m=e.slice(o),[p]=m.match(Mr)||[""],c=m.trimStart().search(bt);return[o,c!==-1?o+p.length+c:e.length]}let i=e.slice(0,n),[s]=i.match(Sr)||[""],a=i.trimEnd().split("").reverse().findIndex(m=>bt.exec(m));return[a!==-1?n-s.length-a:0,n]}function ee(e=[]){return(t,...r)=>e.reduce((o,n)=>d(d({},o),n(o,...r)),t)}function I(e,t){let r=d(d({},C),t),o=ee(r.preprocessors),n=ee(r.postprocessors),i=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:s}=o({elementState:i,data:""},"validation"),a=new X(s,r),{value:m,selection:p}=n(a,i);return typeof e=="string"?m:{value:m,selection:p}}function vt(){return e=>{let t=new J(e),r=!1,o,n=e.value;return t.listen("keydown",({key:i})=>{r=i==="Unidentified"}),t.listen("beforeinput",i=>{o=i,n=e.value}),t.listen("input",i=>{r&&o.defaultPrevented&&o.inputType==="deleteContentBackward"&&i.inputType==="deleteContentBackward"&&(e.value=n)},{capture:!0}),()=>t.destroy()}}function kr(){return e=>{if(e.isContentEditable)return;let t=e.value,r=()=>{t=e.value},o=()=>{e.value!==t&&e.dispatchEvent(new Event("change",{bubbles:!0}))};return e.addEventListener("focus",r),e.addEventListener("change",r),e.addEventListener("blur",o),()=>{e.removeEventListener("focus",r),e.removeEventListener("change",r),e.removeEventListener("blur",o)}}}var ot=" ";function Rt(){let e="",t=0,r=null,o=!1;return n=>{let i=new J(n);return i.listen("beforeinput",s=>{let{value:a,selectionStart:m,selectionEnd:p}=n,c=r?.inputType==="insertText"&&r?.data===ot&&!a.slice(0,Number(p)).endsWith(ot);s.inputType==="insertText"&&s.data===`.${ot}`&&(r?.inputType==="deleteContentBackward"&&o?(n.value=e,n.setSelectionRange?.(t,t)):c&&n.setSelectionRange?.(m,m)),o=c,r=s,e=a,t=Number((c?t:p)===a.length?p:m)}),()=>i.destroy()}}function Er(e){return(t,r)=>{let o=t.selectionStart??0,n=t.selectionEnd??0;b(t,{value:I(t.value,e||r),selection:[o,n]})}}function xr(){return(e,t)=>{let r=o=>{if(o.inputType!=="insertCompositionText")return;let i={selection:[e.selectionStart??0,e.selectionEnd??0],value:e.value},s=I(i,t);Q(i,s)||(o.preventDefault(),b(e,s))};return e.addEventListener("input",r),()=>e.removeEventListener("input",r)}}var Pr=[Rt(),vt()],nt=class extends Ee{constructor(r,o){super();this.element=r;this.maskitoOptions=o;this.isTextArea=this.element.nodeName==="TEXTAREA";this.eventListener=new J(this.element);this.options=d(d({},C),this.maskitoOptions);this.upcomingElementState=null;this.preprocessor=ee(this.options.preprocessors);this.postprocessor=ee(this.options.postprocessors);this.teardowns=this.options.plugins.concat(Pr).map(r=>r(this.element,this.options));this.updateHistory(this.elementState),this.eventListener.listen("keydown",n=>{if(ht(n))return n.preventDefault(),this.redo();if(yt(n))return n.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",n=>{let i=n.inputType.includes("Forward");switch(this.updateHistory(this.elementState),n.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:n,isForward:i,selection:Dt(this.elementState,i)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:n,isForward:i,selection:Tt(this.elementState,i),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:n,isForward:i,selection:At(this.elementState,i)});case"historyRedo":return n.preventDefault(),this.redo();case"historyUndo":return n.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(n);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(n,n.data??n.dataTransfer?.getData("text/plain")??"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&!Q(this.upcomingElementState,this.elementState)&&this.updateElementState(this.upcomingElementState),this.upcomingElementState=null},{capture:!0}),this.eventListener.listen("input",({inputType:n})=>{n!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(r=>r?.())}updateElementState({value:r,selection:o},n){let i=this.elementState.value;this.updateValue(r),this.updateSelectionRange(o),n&&i!==r&&this.dispatchInputEvent(n)}get elementState(){let{value:r,selectionStart:o,selectionEnd:n}=this.element;return{value:r,selection:[o??0,n??0]}}get maxLength(){let{maxLength:r}=this.element;return r===-1?1/0:r}updateSelectionRange([r,o]){let{element:n}=this;n.matches(":focus")&&(n.selectionStart!==r||n.selectionEnd!==o)&&n.setSelectionRange?.(r,o)}updateValue(r){(this.element.value!==r||this.element.isContentEditable)&&(this.element.value=r)}ensureValueFitsMask(){this.updateElementState(I(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(r={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",E(d({},r),{bubbles:!0,cancelable:!1})))}handleDelete({event:r,selection:o,isForward:n}){let i={value:this.elementState.value,selection:o},{elementState:s}=this.preprocessor({elementState:i,data:""},n?"deleteForward":"deleteBackward"),a=new X(s,this.options);a.deleteCharacters();let m=this.postprocessor(a,i);if(Et(i,s,a,m)){let[p,c]=s.selection;return r.preventDefault(),this.updateSelectionRange(n?[c,c]:[p,p])}this.upcomingElementState=m}handleInsert(r,o){let{options:n,maxLength:i,elementState:s}=this,[a,m]=s.selection,{elementState:p,data:c=o}=this.preprocessor({data:o,elementState:s},"insert"),u=new X(p,n);try{u.addCharacters(c)}catch{return r.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(u,s)),s.value.length>=i&&a===m&&(n.overwriteMode==="replace"&&!Q(this.upcomingElementState,s)?this.dispatchInputEvent({inputType:"insertText",data:o}):this.upcomingElementState=null)}handleEnter(r){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(r,`
`)}clampState({value:r,selection:o}){let[n,i]=o,s=this.maxLength;return{value:r.slice(0,s),selection:[Math.min(n,s),Math.min(i,s)]}}};function _(e,t,r){return(o,n)=>{let i=()=>t(o,n);return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)}}function Nt(e){return _("focus",t=>{t.value||b(t,e)})}function T(e,t,r){let o=yr(t??e,e);return hr(r??o,o)}function hr(e,...t){return t.reduce((r,o)=>r<o?r:o,e)}function yr(e,...t){return t.reduce((r,o)=>r>o?r:o,e)}function He(e){return e.replaceAll(/\W/g,"").length}var _t=[H,me,Le,Z,Ce],Lt=1,$e=12,G={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11};function it(e,{day:t=0,month:r=0,year:o=0}={}){if(t===0&&r===0&&o===0)return e;let n=e.getFullYear(),i=e.getMonth(),s=e.getDate(),a=(n+o)*$e+i+r,m=Math.floor(a/$e),p=a%$e,c=Pe(p,he(m)),u=Pe(i,he(m)),l=t;for(s>=c?l+=s-(u-c):u<c&&s===u?l+=s+(c-u):l+=s;l>Pe(p,he(m));)l-=Pe(p,he(m)),p===G.December?(m++,p=G.January):p++;for(;l<Lt;)p===G.January?(m--,p=G.December):p--,l+=Pe(p,he(m));return l=t<0||r<0||o<0?l+1:l-1,new Date(m,p,l)}function Pe(e,t){switch(e){case G.April:case G.June:case G.November:case G.September:return 30;case G.February:return t?29:28;default:return 31}}function he(e){return e%400===0||e%4===0&&e%100!==0}var Ve=e=>({day:e.match(/d/g)?.length??0,month:e.match(/m/g)?.length??0,year:e.match(/y/g)?.length??0});function te(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")}}var Tr=["day","month","year"];function Ct(e){return[...Tr].sort((t,r)=>e.indexOf(t[0])>e.indexOf(r[0])?1:-1)}function It(e,t){let r=He(t),[o=""]=new RegExp(`(\\D*\\d){${r}}`).exec(e)||[];return o}function z(e,t){return e.length<t.length?!1:e.split(/\D/).every(r=>!/^0+$/.exec(r))}function W(e,t,r){let o=He(t);return e.replace(r,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${o}}`,"g"))||[]}function O(e,t){let r=t.replaceAll(/[^dmy]/g,""),o=e.replaceAll(/\D+/g,""),n={day:o.slice(r.indexOf("d"),r.lastIndexOf("d")+1),month:o.slice(r.indexOf("m"),r.lastIndexOf("m")+1),year:o.slice(r.indexOf("y"),r.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(n).filter(([i,s])=>!!s).sort(([i],[s])=>t.toLowerCase().indexOf(i.slice(0,1))>t.toLowerCase().indexOf(s.slice(0,1))?1:-1))}function B(e,t){let r=e.year?.length===2?`20${e.year}`:e.year,o=new Date(Number(r??"0"),Number(e.month??"1")-1,Number(e.day??"1"),Number(t?.hours??"0"),Number(t?.minutes??"0"),Number(t?.seconds??"0"),Number(t?.milliseconds??"0"));return o.setFullYear(Number(r??"0")),o}var j=", ";function L({day:e,month:t,year:r,hours:o,minutes:n,seconds:i,milliseconds:s},{dateMode:a,dateTimeSeparator:m=j,timeMode:p}){let c=a.match(/y/g)?.length??0;return(a+(p?m+p:"")).replaceAll(/d+/g,e??"").replaceAll(/m+/g,t??"").replaceAll(/y+/g,r?.slice(-c)??"").replaceAll(/H+/g,o??"").replaceAll("MSS",s??"").replaceAll(/M+/g,n??"").replaceAll(/S+/g,i??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}function Ue({dateString:e,dateModeTemplate:t,dateSegmentsSeparator:r,offset:o,selection:[n,i]}){let s=O(e,t),a=Object.entries(s),m=Ct(t),p={};for(let l=0;l<a.length;l++){let[g,f]=a[l],S=L(p,{dateMode:t}),M=Ie[g],k=S.length&&r.length,y=o+S.length+k+Ve(t)[g],D=y>=n&&y===i;if(D&&Number(f)>Number(M)){let v=m[m.indexOf(g)+1];if(!v||v==="year")return{validatedDateString:"",updatedSelection:[n,i]};p[g]=`0${f.slice(0,-1)}`,a[l+1]=[v,f.slice(-1)+(a[l+1]?.[1]??"").slice(1)];continue}if(D&&Number(f)<1)return{validatedDateString:"",updatedSelection:[n,i]};p[g]=f}let c=L(p,{dateMode:t}),u=c.length-e.length;return{validatedDateString:c,updatedSelection:[n+u,i+u]}}function N(e){return e}function fe(){}var Ot=/[\\^$.*+?()[\]{}|]/g,Dr=new RegExp(Ot.source);function x(e){return e&&Dr.test(e)?e.replaceAll(Ot,String.raw`\$&`):e}function wt(e,t){let r="";for(let o=0;o<e.length;o++){if(e[o]!==t[o])return r;r+=e[o]}return r}function Ge(e){return!e||typeof e=="object"&&Object.keys(e).length===0}var br=/^0+$/;function de(e,t,r=0){let o=e.padEnd(t.length,"0");if(Number(o)<=Number(t))return{validatedSegmentValue:e,prefixedZeroesCount:r};if(o.endsWith("0"))return de(`0${e.slice(0,t.length-1)}`,t,r+1);let n=e.slice(0,t.length-1);return br.exec(n)?{validatedSegmentValue:"",prefixedZeroesCount:r}:de(`${n}0`,t,r)}function st(e){return e.replaceAll(new RegExp(St,"g"),dt)}function at(e){return e.replaceAll(/[０-９]/g,t=>String.fromCharCode(t.charCodeAt(0)-65248))}function We(e){return(t,r)=>{let o=t.ownerDocument,n=0,i=()=>n++,s=()=>{n=Math.max(--n,0)},a=()=>{if(t.matches(":focus")){if(n)return o.addEventListener("mouseup",a,{once:!0,passive:!0});e(t,r)}};return o.addEventListener("selectionchange",a,{passive:!0}),t.addEventListener("focus",a,{passive:!0}),t.addEventListener("mousedown",i,{passive:!0}),o.addEventListener("mouseup",s,{passive:!0}),()=>{o.removeEventListener("selectionchange",a),t.removeEventListener("focus",a),t.removeEventListener("mousedown",i),o.removeEventListener("mouseup",s)}}}function Be(e){return We(t=>{let r=t.selectionStart??0,o=t.selectionEnd??0,[n,i]=e(t.value,[r,o]);(n>r||i<o)&&t.setSelectionRange(T(r,n,i),T(o,n,i))})}function Ft(e){return _("blur",t=>{t.value===e&&b(t,"")})}var Ht=e=>{let t=()=>{let r=e.value;e.addEventListener("beforeinput",o=>{o.defaultPrevented&&r===e.value&&e.dispatchEvent(new CustomEvent("maskitoReject",{bubbles:!0}))},{once:!0})};return e.addEventListener("beforeinput",t,!0),()=>e.removeEventListener("beforeinput",t,!0)};function ye(e){return e<0?fe:t=>{let r=o=>{let n=Number(t.selectionStart),i=t.value.toUpperCase();if(o.key!=="ArrowUp"&&o.key!=="ArrowDown"||n<e)return;o.preventDefault();let s=i.includes("A")?"P":i.includes("P")||o.key==="ArrowUp"?"A":"P",a=`${R}${s}M`;b(t,{value:i.length===e?i+a:i.replace(ce,a),selection:[n,n]})};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)}}function Te({step:e,fullMode:t,timeSegmentMinValues:r,timeSegmentMaxValues:o}){let n=Ar(t);return e<=0?fe:i=>{let s=a=>{if(a.key!=="ArrowUp"&&a.key!=="ArrowDown")return;a.preventDefault();let m=i.selectionStart??0,p=vr({segmentsIndexes:n,selectionStart:m});if(!p)return;let c=Rr({selection:n.get(p),value:i.value,toAdd:a.key==="ArrowUp"?e:-e,min:r[p],max:o[p]});b(i,{value:c,selection:[m,m]})};return i.addEventListener("keydown",s),()=>i.removeEventListener("keydown",s)}}function Ar(e){return new Map([["hours",je(e,"HH")],["milliseconds",je(e,"MSS")],["minutes",je(e,"MM")],["seconds",je(e,"SS")]])}function je(e,t){let r=e.indexOf(t);return r===-1?[-1,-1]:[r,r+t.length]}function vr({segmentsIndexes:e,selectionStart:t}){for(let[r,o]of e.entries()){let[n,i]=o;if(n<=t&&t<=i)return r}return null}function Rr({selection:e,value:t,toAdd:r,min:o,max:n}){let[i,s]=e,a=Number(t.slice(i,s).padEnd(s-i,"0")),m=Nr(a+r,o,n+1);return t.slice(0,i)+String(m).padStart(s-i,"0")+t.slice(s,t.length)}function Nr(e,t,r){let o=r-t;return((e-t)%o+o)%o+t}function De(){return({elementState:e,data:t})=>{let{value:r,selection:o}=e;return{elementState:{selection:o,value:st(r)},data:st(t)}}}function re({dateModeTemplate:e,dateSegmentSeparator:t,splitFn:r,uniteFn:o}){return({value:n,selection:i})=>{let[s,a]=i,{dateStrings:m,restPart:p=""}=r(n),c=[],u=0;m.forEach(g=>{let f=O(g,e),M=Object.entries(f).reduce((k,[y,D])=>{let{validatedSegmentValue:v,prefixedZeroesCount:w}=de(D,`${Ie[y]}`);return u+=w,E(d({},k),{[y]:v})},{});c.push(L(M,{dateMode:e}))});let l=o(c,n)+(m[m.length-1]?.endsWith(t)?t:"")+p;return u&&l.slice(a+u,a+u+t.length)===t&&(u+=t.length),{selection:[s+u,a+u],value:l}}}function be({dateModeTemplate:e,firstDateEndSeparator:t,dateSegmentSeparator:r,pseudoFirstDateEndSeparators:o}){return({elementState:n,data:i})=>{let{value:s,selection:a}=n,[m,p]=a,c=It(s,e),u=o.filter(S=>!t.includes(S)&&S!==r),l=new RegExp(`[${u.join("")}]`,"gi"),g=c&&s.length>c.length?c+s.slice(c.length).replace(/^\D*/,t):s,f=g.length-s.length;return{elementState:{selection:[m+f,p+f],value:g},data:i.replace(l,t)}}}function $(){return({elementState:e,data:t})=>{let{value:r,selection:o}=e;return{elementState:{selection:o,value:at(r)},data:at(t)}}}function qe(e){return Array.from(e.replace(" AA","")).map(t=>le.includes(t)?t:/\d/).concat(e.includes("AA")?[R,/[AP]/i,/M/i]:[])}function mt(e,t){return Object.fromEntries(Object.entries(e).map(([r,o])=>[r,t(String(o),we[r])]))}function pt(e){return mt(e,(t,r)=>t.padStart(r,"0"))}var $t={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};function oe(e,t){let r=e.replaceAll(/\D+/g,""),o=0;return Object.fromEntries(t.split(/\W/).filter(n=>$t[n]).map(n=>{let i=r.slice(o,o+n.length);return o+=n.length,[$t[n],i]}))}var _r=/^\D*/,Lr=/\D*$/;function Vt({hours:e="",minutes:t="",seconds:r="",milliseconds:o=""}){return`${e}:${t}:${r}.${o}`.replace(_r,"").replace(Lr,"")}var Cr=new RegExp(`[${le.map(x).join("")}]$`);function Ze({value:e,selection:t},{mode:r,timeSegmentMaxValues:o=U}){let[n,i]=t,s=oe(e,r),a=Object.entries(s),m=pt(o),p={},c=0;for(let[k,y]of a){let D=m[k],{validatedSegmentValue:v,prefixedZeroesCount:w}=de(y,String(D));c+=w,p[k]=v}let[u=""]=e.match(/^\D+(?=\d)/g)||[],[l=""]=e.match(/\D+$/g)||[],g=u+Vt(p)+l,f=Math.max(g.length-e.length-c,0),S=n+c+f,M=i+c+f;return S===M&&c&&g.slice(0,M+1).match(Cr)&&(S++,M++),{value:g,selection:[S,M]}}function Ae({timeMode:e,timeSegmentMinValues:t=pe,timeSegmentMaxValues:r=U,parseValue:o=n=>({timeString:n})}){let n=new RegExp(`[^\\d${le.map(x).join("")}]+`);return({elementState:i,data:s},a)=>{if(a!=="insert")return{elementState:i,data:s};let{value:m,selection:p}=i,[c,u]=p,l=s.replace(n,""),g=u+l.length,f=m.slice(0,c)+l+m.slice(g),{timeString:S,restValue:M=""}=o(f),k=Object.entries(oe(S,e)),y=M.length;for(let[D,v]of k){let w=t[D],ae=r[D],ut=Number(v),gt=y+we[D];if(gt>=c&&gt<=g&&ut!==T(ut,w,ae))return{elementState:i,data:""};y+=v.length+1}return{elementState:i,data:s}}}function ve(e){if(!e.includes("AA"))return N;let t=/^[AP]$/gi;return({elementState:r,data:o})=>{let{value:n,selection:i}=r,s=n.toUpperCase(),a=o.toUpperCase();return s.match(ke)&&a.match(t)?{elementState:{value:s.replaceAll(ke,""),selection:i},data:`${a}M`}:{elementState:{selection:i,value:s},data:a}}}function Re(e){return e.includes("AA")?({value:t,selection:r},o)=>{if(!t.match(ce)||t.match(ke))return{value:t,selection:r};let[n,i]=r;if(o.value.match(ke)){let m=t.replace(ce,"");return{value:m,selection:[Math.min(n,m.length),Math.min(i,m.length)]}}let s=`${R}${t.includes("P")?"P":"A"}M`,a=t.replace(ce,m=>m!==R?s:m);return{value:a,selection:i>=a.indexOf(s)?[a.length,a.length]:r}}:N}function Ke(e,t){let r=Ve(t);return Object.fromEntries(Object.entries(e).map(([o,n])=>{let i=r[o];return[o,n.length===i&&/^0+$/.exec(n)?"1".padStart(i,"0"):n]}))}var Ir="1972";function Ne({dateModeTemplate:e,min:t=K,max:r=V,rangeSeparator:o="",dateSegmentSeparator:n="."}){return({value:i,selection:s})=>{let a=o&&i.endsWith(o),m=W(i,e,o),p="";for(let c of m){p+=p?o:"";let u=O(c,e);if(!z(c,e)){let f=Ke(u,e),S=L(f,{dateMode:e}),M=c.endsWith(n)?n:"";p+=S+M;continue}let l=B(d({year:Ir},u)),g=T(l,t,r);p+=L(te(g),{dateMode:e})}return{selection:s,value:p+(a?o:"")}}}function ne({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:r="",dateTimeSeparator:o=j}){return({elementState:n,data:i})=>{let s=e.split(t),a=i.includes(o),m=i.slice(0,a?i.indexOf(o):1/0).split(/\D/).filter(Boolean);if(!m.length||m.length%s.length!==0)return{elementState:n,data:i};let p=m.reduce((c,u,l)=>{let g=s[l%s.length]??"",f=Math.trunc(l/s.length),S=l%s.length===s.length-1;return c[f]||(c[f]=""),c[f]+=S?u:`${u.padStart(g.length,"0")}${t}`,c},[]);return{elementState:n,data:a?`${p[0]}${i.slice(i.indexOf(o))}`:p.join(r)}}}function Se(e){let t=new RegExp(`${x(e)}$`),r=new RegExp(e&&`(${e.split("").map(x).reduce((o,n,i,s)=>`${o}|${s.slice(0,i+1).join("")}`)})$`);return e?({value:o,selection:n},i)=>{if(!o&&!i.value.endsWith(e))return{value:o,selection:n};if(!o.match(r)&&!i.value.endsWith(e))return{selection:n,value:o+e};let s=i.value.replace(t,""),a=i.selection[1]>s.length,m=wt(s,o);return{selection:n,value:Array.from(e).reverse().reduce((p,c,u)=>{let l=p.length-1-u,g=m[l]===c&&a;return p[l]!==c||g?p.slice(0,l+1)+c+p.slice(l+1):p},o)}}:N}function Me(e){return e?({value:t,selection:r},o)=>{if(t.startsWith(e)||!t&&!o.value.startsWith(e))return{value:t,selection:r};let[n,i]=r,s=Array.from(e).reduce((m,p,c)=>m[c]===p?m:m.slice(0,c)+p+m.slice(c),t),a=s.length-t.length;return{selection:[n+a,i+a],value:s}}:N}function _e({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:r=""}){return({elementState:o,data:n})=>{let{value:i,selection:s}=o;if(n===t)return{elementState:o,data:s[0]===i.length?n:""};if(!n.replaceAll(/\D/g,""))return{elementState:o,data:n};let a=n.replaceAll(new RegExp(`[^\\d${x(t)}${r}]`,"g"),""),[m,p]=s,c=p+n.length,u=i.slice(0,m)+a+i.slice(c),l=W(u,e,r),g="",f=!!r&&u.includes(r);for(let M of l){let{validatedDateString:k,updatedSelection:y}=Ue({dateString:M,dateModeTemplate:e,dateSegmentsSeparator:t,offset:g.length,selection:[m,c]});if(M&&!k)return{elementState:o,data:""};c=y[1],g+=f&&!g?k+r:k}let S=g.slice(m,c);return{elementState:{selection:s,value:g.slice(0,m)+S.split(t).map(M=>"0".repeat(M.length)).join(t)+g.slice(c)},data:S}}}function Ut(e,t=!1){let r="",o="validation",n=a=>{for(let m=a.length-1;m>=r.length;m--)if(a[m]!==e[m])return a.slice(0,m+1);return a.slice(0,r.length)},i=[Be(a=>[0,n(a).length])],s=!1;if(t){let a=_("focus",p=>{s=!0,b(p,p.value+e.slice(p.value.length))},{capture:!0}),m=_("blur",p=>{s=!1,b(p,n(p.value))},{capture:!0});i.push(a,m)}return{plugins:i,removePlaceholder:n,preprocessors:[({elementState:a,data:m},p)=>{o=p;let{value:c,selection:u}=a;return{elementState:{selection:u,value:n(c)},data:m}}],postprocessors:[({value:a,selection:m},p)=>{r=a;let c=a+e.slice(a.length,p.value.length)===p.value;if(o==="validation"&&c)return{selection:m,value:p.value};let u=s||!t?a+e.slice(a.length):a;if(u===p.value&&o==="deleteBackward"){let[l]=p.selection;return{value:u,selection:[l,l]}}return{value:u,selection:m}}]}}function q(e=""){let t=(r,[o,n])=>n>=r.length-e.length;return({elementState:r},o)=>{let{value:n,selection:i}=r;if(!n||t(n,i))return{elementState:r};let[s,a]=i,m=n.slice(s,a).replaceAll(/\d/g,"0"),p=n.slice(0,s)+m+n.slice(a);return m.replaceAll(/\D/g,"")?o==="validation"||o==="insert"&&s===a?{elementState:{selection:i,value:p}}:{elementState:{selection:o==="deleteBackward"||o==="insert"?[s,s]:[a,a],value:p}}:{elementState:r}}}function Or({mode:e,separator:t=".",max:r,min:o}){let n=e.split("/").join(t);return E(d({},C),{mask:Array.from(n).map(i=>t.includes(i)?i:/\d/),overwriteMode:"replace",preprocessors:[$(),q(),ne({dateModeTemplate:n,dateSegmentsSeparator:t}),_e({dateModeTemplate:n,dateSegmentsSeparator:t})],postprocessors:[re({dateModeTemplate:n,dateSegmentSeparator:t,splitFn:i=>({dateStrings:[i]}),uniteFn:([i=""])=>i}),Ne({min:o,max:r,dateModeTemplate:n,dateSegmentSeparator:t})]})}function Gt({dateModeTemplate:e,rangeSeparator:t,minLength:r,maxLength:o,max:n=V}){return Ge(r)&&Ge(o)?N:({value:i,selection:s})=>{let a=W(i,e,t);if(a.length!==2||a.some(f=>!z(f,e)))return{value:i,selection:s};let[m,p]=a.map(f=>B(O(f,e)));if(!m||!p)return{value:i,selection:s};let c=it(m,r),u=Ge(o)?n:it(m,o),l=T(p,c,n),g=l>u?u:l;return{selection:s,value:a[0]+t+L(te(g),{dateMode:e})}}}function Wt({dateModeTemplate:e,rangeSeparator:t}){return({value:r,selection:o})=>{let n=W(r,e,t),i=n.length===2&&n.every(l=>z(l,e)),[s,a]=o,m=s>=r.length,p=s===0&&a>=r.length;if(!(m||p)||!i)return{value:r,selection:o};let[c,u]=n.map(l=>B(O(l,e)));return{selection:o,value:c&&u&&c>u?n.reverse().join(t):r}}}function wr({mode:e,min:t,max:r,minLength:o,maxLength:n,dateSeparator:i=".",rangeSeparator:s=`${R}${me}${R}`}){let a=e.split("/").join(i),m=Array.from(a).map(p=>i.includes(p)?p:/\d/);return E(d({},C),{mask:[...m,...Array.from(s),...m],overwriteMode:"replace",preprocessors:[$(),be({dateModeTemplate:a,dateSegmentSeparator:i,firstDateEndSeparator:s,pseudoFirstDateEndSeparators:_t}),q(),ne({dateModeTemplate:a,rangeSeparator:s,dateSegmentsSeparator:i}),_e({dateModeTemplate:a,rangeSeparator:s,dateSegmentsSeparator:i})],postprocessors:[re({dateModeTemplate:a,dateSegmentSeparator:i,splitFn:p=>({dateStrings:W(p,a,s)}),uniteFn:(p,c)=>p.reduce((u,l,g)=>u+l+(!g&&c.includes(s)?s:""),"")}),Ne({min:t,max:r,dateModeTemplate:a,rangeSeparator:s,dateSegmentSeparator:i}),Gt({dateModeTemplate:a,minLength:o,maxLength:n,max:r,rangeSeparator:s}),Wt({dateModeTemplate:a,rangeSeparator:s})]})}function Fr({mode:e,timeSegmentMaxValues:t={},timeSegmentMinValues:r={},step:o=0,prefix:n="",postfix:i=""}){let s=e.includes("AA"),a=d(d(d({},U),s?{hours:12}:{}),t),m=d(d(d({},pe),s?{hours:1}:{}),r),p=[...n,...qe(e)];return{mask:i?({value:c})=>Hr(p,c).concat(...i):p,preprocessors:[$(),De(),q(i),ve(e),Ae({timeMode:e,timeSegmentMinValues:m,timeSegmentMaxValues:a})],postprocessors:[Re(e),c=>Ze(c,{mode:e,timeSegmentMaxValues:a}),Me(n),Se(i)],plugins:[Te({fullMode:e,step:o,timeSegmentMinValues:m,timeSegmentMaxValues:a}),ye(e.indexOf("AA"))],overwriteMode:"replace"}}function Hr(e,t){let r=Math.min(t.replaceAll(/\D/g,"").length,e.filter(n=>typeof n!="string").length)||1,o=e.findIndex(n=>typeof n!="string"&&!--r)+1;return e.slice(0,o)}function Bt(e,{dateMode:t,timeMode:r,dateTimeSeparator:o=j}){return e.length>=t.length+r.length+o.length&&(e.split(o)[0]??"").split(/\D/).every(n=>!/^0+$/.exec(n))}var Dm=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});var Vr=/[^dmy]/g,Ur=/^\D*/;function ie(e,t){let r=t.replaceAll(Vr,"").length,[o=""]=new RegExp(`(\\d[^\\d]*){0,${r-1}}\\d?`).exec(e)||[],[n=""]=Ur.exec(e.slice(o.length))||[];return[o,e.slice(o.length+n.length)]}function Zt({dateModeTemplate:e,timeMode:t,min:r=K,max:o=V,dateTimeSeparator:n}){return({value:i,selection:s})=>{let[a,m]=ie(i,e),p=O(a,e),c=oe(m,t);if(!Bt(i,{dateMode:e,timeMode:t,dateTimeSeparator:n})){let S=Ke(p,e),{year:M,month:k,day:y}=z(a,e)?te(T(B(S),r,o)):S,D=L(d({year:M,month:k,day:y},c),{dateMode:e,dateTimeSeparator:n,timeMode:t}),v=i.slice(D.length);return{selection:s,value:D+v}}let u=B(p,c),l=T(u,r,o),[g=""]=i.match(/\D+$/g)||[],f=L(te(l),{dateMode:e,dateTimeSeparator:n,timeMode:t})+g;return{selection:s,value:f}}}function Kt({dateModeTemplate:e,dateSegmentsSeparator:t,dateTimeSeparator:r,timeMode:o,timeSegmentMaxValues:n}){return({elementState:i,data:s})=>{let{value:a,selection:m}=i;if(s===t)return{elementState:i,data:m[0]===a.length?s:""};let p=s.replaceAll(/\D/g,"");if(!p)return{elementState:i,data:s};let[c,u]=m,l=u+s.length,g=a.slice(0,c)+p+a.slice(l),[f,S]=ie(g,e),M="",k=g.includes(r),{validatedDateString:y,updatedSelection:D}=Ue({dateString:f,dateSegmentsSeparator:t,dateModeTemplate:e,offset:0,selection:[c,l]});if(f&&!y)return{elementState:i,data:""};l=D[1],M+=y;let v=Ze({value:S,selection:[c,l]},{mode:o,timeSegmentMaxValues:n});l=v.selection[1],M+=k?r+v.value:v.value;let w=M.slice(c,l);return{elementState:{selection:m,value:M.slice(0,c)+w.split(t).map(ae=>"0".repeat(ae.length)).join(t)+M.slice(l)},data:w}}}function Wr({dateMode:e,timeMode:t,dateSeparator:r=".",min:o,max:n,dateTimeSeparator:i=j,timeStep:s=0}){let a=t.includes("AA"),m=e.split("/").join(r),p=d(d({},U),a?{hours:12}:{}),c=d(d({},pe),a?{hours:1}:{}),u=`${m}${i}${t}`;return E(d({},C),{mask:[...Array.from(m).map(l=>r.includes(l)?l:/\d/),...i.split(""),...qe(t)],overwriteMode:"replace",preprocessors:[$(),De(),be({dateModeTemplate:m,dateSegmentSeparator:r,firstDateEndSeparator:i,pseudoFirstDateEndSeparators:i.split("")}),q(),ve(t),ne({dateModeTemplate:m,dateSegmentsSeparator:r,dateTimeSeparator:i}),Ae({timeMode:t,timeSegmentMinValues:c,timeSegmentMaxValues:p,parseValue:l=>{let[g,f]=ie(l,m);return{timeString:f,restValue:g+i}}}),Kt({dateModeTemplate:m,dateSegmentsSeparator:r,dateTimeSeparator:i,timeMode:t,timeSegmentMaxValues:p})],postprocessors:[Re(t),re({dateModeTemplate:m,dateSegmentSeparator:r,splitFn:l=>{let[g,f]=ie(l,m);return{dateStrings:[g],restPart:f}},uniteFn:([l],g)=>l+(g.includes(i)?i:"")}),Zt({min:o,max:n,dateModeTemplate:m,timeMode:t,dateTimeSeparator:i})],plugins:[Te({step:s,fullMode:u,timeSegmentMinValues:c,timeSegmentMaxValues:p}),ye(u.indexOf("AA"))]})}function Yt(e,{prefix:t,postfix:r,decimalSeparator:o,decimalPseudoSeparators:n,minusSign:i,minusPseudoSigns:s,maximumFractionDigits:a}){let m=[...n,o].map(D=>`\\${D}`).join(""),p=[...s,i].map(D=>`\\${D}`).join(""),c=t&&new RegExp(`^([${p}])?(${t.split("").map(x).join("?")}?)`),u=r&&new RegExp(`${r.split("").map(x).join("?")}?$`),[,,l=""]=e.match(c)??[],[g=""]=e.match(u)??[],f=e.replace(c,t&&"$1").replace(u,""),S=new RegExp(o&&a>0?`^[${m}]`:""),M=new RegExp(e.endsWith(r)?"":String.raw`^\d+`),k=new RegExp(o&&a>0?`[${m}]$`:""),y=new RegExp(e.startsWith(t)?"":String.raw`\d+$`);return{extractedPrefix:l.replace(k,"").replace(y,""),extractedPostfix:g.replace(S,"").replace(M,""),cleanValue:(y.exec(l)?.[0]??"")+(k.exec(l)?.[0]??"")+f+(M.exec(g)?.[0]??"")+(S.exec(g)?.[0]??"")}}function Ye({decimalPseudoSeparators:e,decimalSeparator:t,maximumFractionDigits:r,min:o,minusSign:n,minusPseudoSigns:i,postfix:s,prefix:a,thousandSeparator:m}){let p=o<0&&[n,...i].includes(a)?"":Xt(a),c=String.raw`\d`,u=o<0?`[${n}${i.map(k=>`\\${k}`).join("")}]?`:"",l=m?`[${c}${x(m).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${c}]*`,g=Number.isFinite(r)?r:"",f=r>0?`([${x(t)}${e.map(x).join("")}]${c}{0,${g}})?`:"",S=Xt(s),M=`(${u+p}|${p+u})`;return new RegExp(`^${M}${l}${f}${S}$`)}function Xt(e){return e?`${e.split("").map(t=>`${x(t)}?`).join("")}`:""}function P(e,t){let{extractedPrefix:r,cleanValue:o,extractedPostfix:n}=Yt(e,t),{decimalSeparator:i,minusSign:s,minusPseudoSigns:a,decimalPseudoSeparators:m,maximumFractionDigits:p}=t,[c="",u=""]=i?o.split(i):[o],l=[s,...a].map(S=>`\\${S}`).join(""),[,g="",f=""]=new RegExp(`^([${l}])?(.*)`).exec(c)||[];return{prefix:r,minus:g,integerPart:f,decimalPart:u,decimalSeparator:i&&p>0?new RegExp(`[${[i,...m].map(x).join("")}]`,"i").exec(o)?.[0]??"":"",postfix:n}}function h({minus:e="",integerPart:t="",decimalPart:r="",prefix:o="",postfix:n="",decimalSeparator:i=""},s){let a=r?s.decimalSeparator:i;return`${s.negativePattern==="minusFirst"?e+o:o+e}${t}${a}${r}${n}`}function se(e,{bigint:t=!1,decimalSeparator:r=".",maximumFractionDigits:o=0,minusPseudoSigns:n=Oe,minusSign:i=Z,thousandSeparator:s=R}={}){let a=!!new RegExp(`^\\D*[${x(i)}\\${n.join("\\")}]`).exec(e),m=x(r),p=e.replaceAll(new RegExp(`${m}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${o<=0&&r===s?"":m}]`,"g"),"").replace(r,r&&".");if(p){let c=a?H:"";return t?BigInt(`${c}${p}`):+`${c}${p}`}return t?null:NaN}var Br=[],jr={minusSign:H,minusPseudoSigns:[],prefix:"",postfix:"",decimalSeparator:".",decimalPseudoSeparators:[],maximumFractionDigits:1/0};function Xe(e){let t=String(e),[r="",o]=t.split("e");if(!o)return t;if(!o.startsWith(H))return e.toLocaleString(Br,{useGrouping:!1});let{minus:n,integerPart:i,decimalPart:s}=P(r,jr),a=i+s,m=Math.abs(Number(o)),p=m-i.length,c;if(p>=0)c=`0.${"0".repeat(p)}${a}`;else{let u=i.length-m;c=`${a.slice(0,u)}.${a.slice(u)}`}return n+c}function Jt({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:r=Mt}){return r.filter(o=>o!==t&&o!==e)}function zt(e){return({elementState:t,data:r})=>{let{value:o}=t,a=P(r,e),{prefix:n,postfix:i}=a,s=A(a,["prefix","postfix"]);return{elementState:t,data:h(E(d({},s),{prefix:o.startsWith(n)?"":n,postfix:o.endsWith(i)?"":i}),e)}}}function Qt(e){let{minimumFractionDigits:t}=e;return t?({value:r,selection:o})=>{if(Number.isNaN(se(r,e)))return{value:r,selection:o};let s=P(r,e),{decimalPart:n}=s,i=A(s,["decimalPart"]);return{value:h(E(d({},i),{decimalPart:n.padEnd(t,"0")}),e),selection:o}}:N}function er(e){return({value:t,selection:r})=>{let[o]=r,{prefix:n,minus:i,integerPart:s,decimalSeparator:a,decimalPart:m,postfix:p}=P(t,e),c=!s&&!m&&a;return!s&&!Number(m)&&o===(i+n).length||c?{selection:r,value:h({prefix:n,minus:i,postfix:p},e)}:{value:t,selection:r}}}function tr(e){let t=!0,r=Ye(E(d({},e),{prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:-1/0}));return({elementState:o,data:n})=>{if(!t)return{elementState:o,data:n};t=!1;let{value:i,selection:s}=o,[a,m]=s,f=P(i,e),{prefix:p,postfix:c}=f,u=A(f,["prefix","postfix"]),l=h(u,e),g=I({selection:[Math.max(a-p.length,0),Math.max(m-p.length,0)],value:l},{mask:r});return{elementState:{selection:s.map((S,M)=>{let k=l.slice(0,Math.max(S-p.length,0)).length-g.value.slice(0,g.selection[M]).length;return Math.max(S-k,0)}),value:h(E(d({},P(g.value,e)),{prefix:p&&e.prefix,postfix:c&&e.postfix}),e)},data:n}}}function rr(e){return({elementState:t},r)=>{let{value:o,selection:n}=t,[i,s]=n,{prefix:a,minusSign:m,negativePattern:p}=e,c=p==="prefixFirst"?a:m+a,u=h(E(d({},P(o,e)),{minus:""}),e),l=o.length-u.length;return{elementState:r.includes("delete")&&o.includes(m)&&i<c.length?{value:u,selection:[Math.max(i-l,c.length-1),Math.max(s-l,c.length-1)]}:t}}}function or(e){let{thousandSeparator:t}=e,r=n=>{let i=x(t);return n.replace(new RegExp(`^(\\D+)?[0${i}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${i}]+(?=[1-9])`),"$1")},o=(n,i)=>{let s=n.slice(0,i),a=n.slice(i).startsWith("0");return s.length-r(s).length+(a?1:0)};return({value:n,selection:i})=>{let[s,a]=i,g=P(n,e),{integerPart:m}=g,p=A(g,["integerPart"]),c=r(m);if(m===c)return{value:n,selection:i};let u=s-o(n,s),l=a-o(n,a);return{value:h(E(d({},p),{integerPart:c}),e),selection:[Math.max(u,0),Math.max(l,0)]}}}function nr({min:e,max:t,decimalSeparator:r,minusSign:o,maximumFractionDigits:n}){return({value:i,selection:s})=>{let a=se(i,{decimalSeparator:r,minusSign:o,bigint:!n&&!i.includes(r)})??NaN,m=a>0?T(a,null,t):T(a,e);if(a&&m!==a){let p=`${m}`.replace(".",r).replace(H,o);return{value:p,selection:[p.length,p.length]}}return{value:i,selection:s}}}function ir({decimalSeparator:e,thousandSeparator:t,minimumFractionDigits:r}){return({elementState:o,data:n},i)=>{let{value:s,selection:a}=o,[m,p]=a,c=s.slice(m,p),u=r?[e,t]:[t],l=!!r&&m>s.indexOf(e)&&!!c.match(/^0+$/g);return i!=="deleteBackward"&&i!=="deleteForward"||!u.includes(c)&&!l?{elementState:o,data:n}:{elementState:{value:s,selection:i==="deleteForward"?[p,p]:[m,m]},data:n}}}function sr(e){let{maximumFractionDigits:t,decimalSeparator:r}=e,o=new RegExp(`^\\D*${x(r)}`);return({elementState:n,data:i})=>{let{value:s,selection:a}=n,k=P(s,e),{prefix:m,postfix:p}=k,c=A(k,["prefix","postfix"]),u=h(c,e),[l,g]=a,f=T(l-m.length,0,u.length),S=T(g-m.length,0,u.length);if(t<=0||u.slice(0,f).includes(r)||u.slice(S).includes(r)||!i.match(o))return{elementState:n,data:i};let M=/\d+/.exec(u.slice(0,f));return{elementState:n,data:M?i:`0${i}`}}}function ar({prefix:e,minusSign:t,negativePattern:r}){return({value:o,selection:n},i)=>Me(o.includes(t)&&r==="minusFirst"?t+e:e)({value:o,selection:n},i)}function ct(o){var n=o,{validCharacter:e,pseudoCharacters:t}=n,r=A(n,["validCharacter","pseudoCharacters"]);let i=new RegExp(`[${t.join("")}]`,"gi");return({elementState:s,data:a})=>{let{value:m,selection:p}=s,f=P(m,r),{prefix:c,postfix:u}=f,l=A(f,["prefix","postfix"]),g=h(l,r).replace(i,e);return{elementState:{selection:p,value:h(E(d({},P(g,r)),{prefix:c,postfix:u}),r)},data:a.replace(i,e)}}}function mr(e){let{decimalSeparator:t}=e;return t?({elementState:r,data:o})=>{let{value:n,selection:i}=r,[s,a]=i;return{elementState:r,data:!P(n,e).decimalSeparator||n.slice(s,a+1).includes(t)?o:o.replaceAll(new RegExp(x(t),"gi"),"")}}:N}function pr(e){let{thousandSeparator:t}=e;if(!t)return N;let r=(...o)=>o.every(n=>/\s/.test(n));return({value:o,selection:n})=>{let[i,s]=n,[a,m]=n,{prefix:p,minus:c,integerPart:u,decimalSeparator:l,decimalPart:g,postfix:f}=P(o,e),S=h({minus:c,integerPart:u,decimalSeparator:l,decimalPart:g},e).length-(c+u+(l?l+g:"")).length;S>0&&i&&i<=S&&(a-=S),S>0&&s&&s<=S&&(m-=S);let M=Array.from(u).reduceRight((k,y,D)=>{let w=!(!D&&y===t)&&!!k.length&&(k.length+1)%4===0,ae=y===t||r(y,t);return w&&ae?t+k:!w&&ae?(a&&D<=i&&a--,m&&D<=s&&m--,k):w?(D<i&&a++,D<s&&m++,y+t+k):y+k},"");return{value:h({prefix:p,minus:c,integerPart:M,decimalSeparator:l,decimalPart:g,postfix:f},e),selection:[a,m]}}}function cr(e){let{maximumFractionDigits:t,decimalSeparator:r}=e;if(t>0||!r)return N;let o=new RegExp(`${x(r)}.*$`,"g");return({elementState:n,data:i})=>{let{value:s,selection:a}=n,S=P(s,e),{prefix:m,postfix:p}=S,c=A(S,["prefix","postfix"]),[u,l]=a,g=h(c,e).replace(o,""),f=h(E(d({},P(g,e)),{prefix:m,postfix:p}),e);return{elementState:{selection:[Math.min(u,f.length),Math.min(l,f.length)],value:f},data:i.replace(o,"")}}}var lr=[0,0];function ur(e){let t=or(e);return _("blur",r=>{let o=t({value:r.value,selection:lr},{value:"",selection:lr}).value;b(r,o)},{capture:!0})}function gr({min:e,max:t,decimalSeparator:r,minusSign:o,maximumFractionDigits:n}){return _("blur",(i,s)=>{let a=se(i.value,{decimalSeparator:r,minusSign:o,bigint:!n&&!i.value.includes(r)})??NaN,m=T(a,e,t);!Number.isNaN(a)&&a!==m&&b(i,I(Xe(m),s))},{capture:!0})}function fr(e){let{decimalSeparator:t}=e;return t?_("blur",r=>{let m=P(r.value,e),{prefix:o,postfix:n}=m,i=A(m,["prefix","postfix"]),s=h(i,e).replace(new RegExp(`^(\\D+)?${x(t)}`),`$10${t}`),a=h(E(d({},P(s,e)),{prefix:o,postfix:n}),e);b(r,a)},{capture:!0}):fe}function lt({max:e=1/0,min:t=-1/0,thousandSeparator:r=R,decimalSeparator:o=".",decimalPseudoSeparators:n,prefix:i="",postfix:s="",minusSign:a=Z,minusPseudoSigns:m=Oe.filter(l=>l!==r&&l!==o&&l!==a),maximumFractionDigits:p=0,minimumFractionDigits:c=0,negativePattern:u="prefixFirst"}={}){let l=Jt({decimalSeparator:o,thousandSeparator:r,decimalPseudoSeparators:n}),g={max:e,min:t,thousandSeparator:r,postfix:s,minusSign:a,minusPseudoSigns:m,maximumFractionDigits:p,decimalPseudoSeparators:l,negativePattern:u,decimalSeparator:p<=0&&o===r?"":o,prefix:i.endsWith(o)&&p>0?`${i}${ft}`:i,minimumFractionDigits:Math.min(c,p)};return E(d({},C),{mask:Ye(g),preprocessors:[$(),tr(g),zt(g),ct(E(d({},g),{validCharacter:a,pseudoCharacters:m})),ct(E(d({},g),{validCharacter:o,pseudoCharacters:l})),sr(g),ir(g),cr(g),mr(g),rr(g)],postprocessors:[nr(g),ar(g),Se(s),pr(g),Qt(g),er(g)],plugins:[ur(g),fr(g),gr(g)],overwriteMode:c>0?({value:f,selection:[S]})=>S<=f.indexOf(o)?"shift":"replace":"shift"})}function qr(e,t){if(Number.isNaN(e)||e===null)return"";let{min:r=-1/0,max:o=1/0,decimalSeparator:n="."}=t,i=Xe(T(e,r,o)).replace(".",n);return I(i,lt(t))}export{dr as a,C as b,b as c,I as d,kr as e,Er as f,xr as g,nt as h,Z as i,Se as j,Me as k,_ as l,Nt as m,We as n,Be as o,Ht as p,Ft as q,Ut as r,Or as s,wr as t,Fr as u,Wr as v,se as w,lt as x,qr as y};
